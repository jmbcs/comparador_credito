{"ast":null,"code":"import{AlertCircle,Building2,Calculator,CheckCircle,ChevronLeft,ChevronRight,CreditCard,Euro,Save,TrendingUp,X}from'lucide-react';import React,{useEffect,useState}from'react';import AmortizacoesForm from'./AmortizacoesForm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const BankForm=_ref=>{let{bankName,data,onSave,onCancel,isEditing}=_ref;const[formData,setFormData]=useState(data);const[newBankName,setNewBankName]=useState(bankName);const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[activeStep,setActiveStep]=useState(1);useEffect(()=>{if(newBankName!==bankName){setFormData(data);setNewBankName(bankName);setErrors({});}},[bankName,data,newBankName]);// Bloquear scroll do body quando o modal estiver aberto\nuseEffect(()=>{document.body.classList.add('scroll-locked');return()=>{document.body.classList.remove('scroll-locked');};},[]);const validateForm=()=>{const newErrors={};if(!newBankName.trim()){newErrors.bankName='Nome do banco é obrigatório';}if(formData.valor_emprestimo<=0){newErrors.valor_emprestimo='Valor do empréstimo deve ser maior que 0';}if(formData.tempo_emprestimo<=0){newErrors.tempo_emprestimo='Tempo do empréstimo deve ser maior que 0';}if(formData.taxa_fixa<=0){newErrors.taxa_fixa='Taxa fixa deve ser maior que 0';}if(formData.seguro_vida<0){newErrors.seguro_vida='Seguro de vida não pode ser negativo';}if(formData.seguro_multiriscos<0){newErrors.seguro_multiriscos='Seguro multiriscos não pode ser negativo';}if(formData.manutencao_conta<0){newErrors.manutencao_conta='Manutenção de conta não pode ser negativa';}if(formData.premios_entrada<0){newErrors.premios_entrada='Prémios de entrada não podem ser negativos';}if(formData.comissoes_iniciais<0){newErrors.comissoes_iniciais='Comissões iniciais não podem ser negativas';}if(formData.outros<0){newErrors.outros='Outros custos não podem ser negativos';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{await onSave(newBankName,formData);}finally{setIsSubmitting(false);}};const handleInputChange=(field,value)=>{setFormData(prev=>({...prev,[field]:value}));if(errors[field]){setErrors(prev=>({...prev,[field]:''}));}};const formatCurrency=value=>{return new Intl.NumberFormat('pt-PT',{style:'currency',currency:'EUR'}).format(value);};const formatPercentage=value=>{return`${value.toFixed(3)}%`;};// Função para calcular prestação mensal\nconst calcularPrestacao=(capital,taxaAnual,nMeses)=>{if(taxaAnual===0||nMeses===0)return 0;const taxaMensal=taxaAnual/12/100;return capital*taxaMensal*Math.pow(1+taxaMensal,nMeses)/(Math.pow(1+taxaMensal,nMeses)-1);};// Função para calcular capital em dívida após período fixo\nconst calcularCapitalRestante=(capitalInicial,taxaAnual,nMeses)=>{if(taxaAnual===0||nMeses===0)return capitalInicial;const taxaMensal=taxaAnual/12/100;const prestacao=calcularPrestacao(capitalInicial,taxaAnual,formData.tempo_emprestimo*12);// Calcular capital restante após nMeses de pagamentos\nlet capitalRestante=capitalInicial;for(let mes=1;mes<=nMeses;mes++){const juros=capitalRestante*taxaMensal;const amortizacao=prestacao-juros;capitalRestante=capitalRestante-amortizacao;}return Math.max(0,capitalRestante);};// Função para obter prestação usando mapa de dívida\nconst obterPrestacaoMapaDivida=(data,mes)=>{const{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');const entry=debtMap.find(entry=>entry.Mês===mes);return entry?entry[\"Prestação (€)\"]:0;};const totalMonthlyCosts=formData.seguro_vida+formData.seguro_multiriscos+formData.manutencao_conta+formData.outros;const steps=[{id:1,title:'Informações Básicas',icon:Building2,color:'blue'},{id:2,title:'Taxas e Custos',icon:Calculator,color:'green'},{id:3,title:'Outflow Inicial',icon:CreditCard,color:'purple'},{id:4,title:'Amortizações',icon:TrendingUp,color:'orange'},{id:5,title:'Resumo',icon:CheckCircle,color:'emerald'}];const renderStepContent=()=>{switch(activeStep){case 1:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Informa\\xE7\\xF5es B\\xE1sicas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nome do Banco *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBankName,onChange:e=>{setNewBankName(e.target.value);if(errors.bankName)setErrors(prev=>({...prev,bankName:''}));},className:`input ${errors.bankName?'input-error':''}`,placeholder:\"Ex: Banco de Portugal\"}),errors.bankName&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.bankName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Valor do Empr\\xE9stimo (\\u20AC) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.valor_emprestimo,onChange:e=>handleInputChange('valor_emprestimo',parseFloat(e.target.value)||0),className:`input ${errors.valor_emprestimo?'input-error':''}`,placeholder:\"Ex: 200000\",min:\"0\",step:\"1000\"}),errors.valor_emprestimo&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.valor_emprestimo})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Prazo (anos) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.tempo_emprestimo,onChange:e=>handleInputChange('tempo_emprestimo',parseInt(e.target.value)||0),className:`input ${errors.tempo_emprestimo?'input-error':''}`,placeholder:\"Ex: 30\",min:\"1\",max:\"50\"}),errors.tempo_emprestimo&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.tempo_emprestimo})]})]})]})]})});case 2:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calculator,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Taxas e Custos Mensais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-base\",children:\"Taxas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Taxa Fixa (%) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.taxa_fixa,onChange:e=>handleInputChange('taxa_fixa',parseFloat(e.target.value)||0),className:`input ${errors.taxa_fixa?'input-error':''}`,placeholder:\"Ex: 3.5\",min:\"0\",max:\"20\",step:\"0.001\"}),errors.taxa_fixa&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.taxa_fixa})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Per\\xEDodo Fixo (anos)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.periodo_fixa,onChange:e=>handleInputChange('periodo_fixa',parseInt(e.target.value)||0),className:\"input\",placeholder:\"Ex: 2\",min:\"0\",max:\"50\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Euribor (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.euribor,onChange:e=>handleInputChange('euribor',parseFloat(e.target.value)||0),className:\"input\",placeholder:\"Ex: 2.081\",min:\"0\",max:\"20\",step:\"0.001\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Spread (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.spread,onChange:e=>handleInputChange('spread',parseFloat(e.target.value)||0),className:\"input\",placeholder:\"Ex: 0.5\",min:\"0\",max:\"10\",step:\"0.001\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-base\",children:\"Custos Mensais\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seguro de Vida (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.seguro_vida,onChange:e=>handleInputChange('seguro_vida',parseFloat(e.target.value)||0),className:`input ${errors.seguro_vida?'input-error':''}`,placeholder:\"Ex: 5.00\",min:\"0\",step:\"0.01\"}),errors.seguro_vida&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.seguro_vida})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seguro Multirriscos (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.seguro_multiriscos,onChange:e=>handleInputChange('seguro_multiriscos',parseFloat(e.target.value)||0),className:`input ${errors.seguro_multiriscos?'input-error':''}`,placeholder:\"Ex: 3.50\",min:\"0\",step:\"0.01\"}),errors.seguro_multiriscos&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.seguro_multiriscos})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Manuten\\xE7\\xE3o de Conta (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.manutencao_conta,onChange:e=>handleInputChange('manutencao_conta',parseFloat(e.target.value)||0),className:`input ${errors.manutencao_conta?'input-error':''}`,placeholder:\"Ex: 10.00\",min:\"0\",step:\"0.01\"}),errors.manutencao_conta&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.manutencao_conta})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Outros Custos (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.outros,onChange:e=>handleInputChange('outros',parseFloat(e.target.value)||0),className:`input ${errors.outros?'input-error':''}`,placeholder:\"Ex: 5.00\",min:\"0\",step:\"0.01\"}),errors.outros&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.outros})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"devolucao_spread\",checked:formData.devolucao_spread,onChange:e=>handleInputChange('devolucao_spread',e.target.checked),className:\"rounded border-gray-300 text-green-600 focus:ring-green-500 h-5 w-5\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"devolucao_spread\",className:\"text-sm font-medium text-gray-700\",children:\"Devolu\\xE7\\xE3o do Spread\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-green-50 rounded-lg border border-green-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Total Custos Mensais:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-green-700\",children:formatCurrency(totalMonthlyCosts)})]})})]})]})});case 3:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(CreditCard,{className:\"h-5 w-5 text-purple-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Pr\\xE9mios de Entrada (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.premios_entrada,onChange:e=>handleInputChange('premios_entrada',parseFloat(e.target.value)||0),className:`input ${errors.premios_entrada?'input-error':''}`,placeholder:\"Ex: 200.00\",min:\"0\",step:\"0.01\"}),errors.premios_entrada&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.premios_entrada})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Comiss\\xF5es Iniciais (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.comissoes_iniciais,onChange:e=>handleInputChange('comissoes_iniciais',parseFloat(e.target.value)||0),className:`input ${errors.comissoes_iniciais?'input-error':''}`,placeholder:\"Ex: 300.00\",min:\"0\",step:\"0.01\"}),errors.comissoes_iniciais&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.comissoes_iniciais})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Pr\\xE9mios de Entrada:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-700\",children:[\"+\",formatCurrency(formData.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Comiss\\xF5es Iniciais:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-700\",children:[\"-\",formatCurrency(formData.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Saldo Inicial:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-semibold text-lg ${formData.premios_entrada>=formData.comissoes_iniciais?'text-green-700':'text-red-700'}`,children:[formData.premios_entrada>=formData.comissoes_iniciais?'+':'',formatCurrency(formData.premios_entrada-formData.comissoes_iniciais)]})]})]})]})]})});case 4:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-orange-100 rounded-lg\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-orange-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Amortiza\\xE7\\xF5es Antecipadas\"})]}),/*#__PURE__*/_jsx(AmortizacoesForm,{amortizacoes:formData.amortizacoes||[],onAmortizacoesChange:amortizacoes=>handleInputChange('amortizacoes',amortizacoes),tempoEmprestimo:formData.tempo_emprestimo})]})});case 5:return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:\"summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-emerald-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-emerald-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Resumo da Proposta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Valor do Empr\\xE9stimo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.valor_emprestimo)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Prazo Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-value\",children:[formData.tempo_emprestimo,\" anos\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"(\",formData.tempo_emprestimo*12,\" meses)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Taxa Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(formData.taxa_fixa)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Per\\xEDodo: \",formData.periodo_fixa,\" anos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Mensais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(totalMonthlyCosts)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Euribor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(formData.euribor)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(formData.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Devolu\\xE7\\xE3o Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formData.devolucao_spread?'Sim':'Não'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Presta\\xE7\\xE3o Per\\xEDodo Fixo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Taxa Aplicada:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-700\",children:formatPercentage(formData.taxa_fixa)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[formData.periodo_fixa,\" anos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-blue-700\",children:formatCurrency(obterPrestacaoMapaDivida(formData,1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total com Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-blue-700\",children:formatCurrency(obterPrestacaoMapaDivida(formData,1)+totalMonthlyCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Capital em D\\xEDvida (ap\\xF3s \",formData.periodo_fixa,\" anos):\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:formatCurrency(calcularCapitalRestante(formData.valor_emprestimo,formData.taxa_fixa,formData.periodo_fixa*12))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-purple-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Presta\\xE7\\xE3o Per\\xEDodo Vari\\xE1vel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Taxa Aplicada:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-700\",children:formatPercentage(formData.euribor+formData.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':`${formData.tempo_emprestimo-formData.periodo_fixa} anos`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-purple-700\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':formatCurrency(obterPrestacaoMapaDivida(formData,formData.periodo_fixa*12+1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total com Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-purple-700\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':formatCurrency(obterPrestacaoMapaDivida(formData,formData.periodo_fixa*12+1)+totalMonthlyCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Capital em D\\xEDvida (in\\xEDcio per\\xEDodo vari\\xE1vel):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':formatCurrency(calcularCapitalRestante(formData.valor_emprestimo,formData.taxa_fixa,formData.periodo_fixa*12))})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CreditCard,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais Detalhados\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro de Vida:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.seguro_vida)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Multirriscos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.seguro_multiriscos)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Manuten\\xE7\\xE3o de Conta:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.manutencao_conta)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Outros Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.outros)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 flex justify-between font-semibold text-emerald-700\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatCurrency(totalMonthlyCosts)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Euro,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Pr\\xE9mios de Entrada:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-green-700\",children:[\"+\",formatCurrency(formData.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Comiss\\xF5es Iniciais:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-orange-700\",children:[\"-\",formatCurrency(formData.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Saldo Inicial:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`${formData.premios_entrada>=formData.comissoes_iniciais?'text-green-700':'text-red-700'}`,children:[formData.premios_entrada>=formData.comissoes_iniciais?'+':'',formatCurrency(formData.premios_entrada-formData.comissoes_iniciais)]})]})]})]})]}),formData.amortizacoes&&formData.amortizacoes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"data-card mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Amortiza\\xE7\\xF5es Antecipadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Total Amortiza\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.amortizacoes.reduce((total,a)=>total+a.valor,0))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"N\\xFAmero de Amortiza\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formData.amortizacoes.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"M\\xE9dia por Amortiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.amortizacoes.reduce((total,a)=>total+a.valor,0)/formData.amortizacoes.length)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-blue-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Resumo Final da Proposta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.valor_emprestimo)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Anuais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(totalMonthlyCosts*12)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Iniciais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.comissoes_iniciais)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Pr\\xE9mios de Entrada\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.premios_entrada)})]})]})]})]})]});default:return null;}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:isEditing?'Editar Banco':'Adicionar Novo Banco'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:newBankName||'Nome do banco'})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-colors duration-200\",\"aria-label\":\"Fechar\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:steps.map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveStep(step.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${activeStep===step.id?'bg-blue-100 text-blue-700 border border-blue-200':activeStep>step.id?'bg-green-100 text-green-700 border border-green-200':'bg-gray-100 text-gray-500 border border-gray-200'}`,children:[/*#__PURE__*/_jsx(\"div\",{className:`p-1 rounded ${activeStep===step.id?'bg-blue-600 text-white':activeStep>step.id?'bg-green-600 text-white':'bg-gray-400 text-white'}`,children:activeStep>step.id?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-3 w-3\"}):/*#__PURE__*/_jsx(step.icon,{className:\"h-3 w-3\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:block\",children:step.title})]}),index<steps.length-1&&/*#__PURE__*/_jsx(\"div\",{className:`w-8 h-0.5 mx-2 ${activeStep>step.id?'bg-green-300':'bg-gray-200'}`})]},step.id))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:renderStepContent()})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-6 border-t border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Passo \",activeStep,\" de \",steps.length]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:onCancel,className:\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\",disabled:isSubmitting,children:[/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cancelar\"})]}),activeStep>1&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setActiveStep(activeStep-1),className:\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Anterior\"})]}),activeStep<steps.length?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setActiveStep(activeStep+1),className:\"btn-primary w-full sm:w-auto flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pr\\xF3ximo\"}),/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4\"})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-success w-full sm:w-auto flex items-center justify-center space-x-2\",disabled:isSubmitting,onClick:()=>handleSubmit({preventDefault:()=>{}}),children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Guardando...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:isEditing?'Atualizar Banco':'Adicionar Banco'})]})})]})]})})]})});};","map":{"version":3,"names":["AlertCircle","Building2","Calculator","CheckCircle","ChevronLeft","ChevronRight","CreditCard","Euro","Save","TrendingUp","X","React","useEffect","useState","AmortizacoesForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BankForm","_ref","bankName","data","onSave","onCancel","isEditing","formData","setFormData","newBankName","setNewBankName","errors","setErrors","isSubmitting","setIsSubmitting","activeStep","setActiveStep","document","body","classList","add","remove","validateForm","newErrors","trim","valor_emprestimo","tempo_emprestimo","taxa_fixa","seguro_vida","seguro_multiriscos","manutencao_conta","premios_entrada","comissoes_iniciais","outros","Object","keys","length","handleSubmit","e","preventDefault","handleInputChange","field","value","prev","formatCurrency","Intl","NumberFormat","style","currency","format","formatPercentage","toFixed","calcularPrestacao","capital","taxaAnual","nMeses","taxaMensal","Math","pow","calcularCapitalRestante","capitalInicial","prestacao","capitalRestante","mes","juros","amortizacao","max","obterPrestacaoMapaDivida","gerarMapaDivida","require","debtMap","entry","find","Mês","totalMonthlyCosts","steps","id","title","icon","color","renderStepContent","className","children","type","onChange","target","placeholder","parseFloat","min","step","parseInt","periodo_fixa","euribor","spread","checked","devolucao_spread","htmlFor","amortizacoes","onAmortizacoesChange","tempoEmprestimo","reduce","total","a","valor","onClick","map","index","onSubmit","disabled"],"sources":["/home/julio/github/jmbcs/comparador_credito/src/components/BankForm.tsx"],"sourcesContent":["import { AlertCircle, Building2, Calculator, CheckCircle, ChevronLeft, ChevronRight, CreditCard, Euro, Save, TrendingUp, X } from 'lucide-react';\nimport React, { useEffect, useState } from 'react';\nimport { BankData } from '../types';\nimport AmortizacoesForm from './AmortizacoesForm';\n\ninterface BankFormProps {\n    bankName: string;\n    data: BankData;\n    onSave: (bankName: string, data: BankData) => void;\n    onCancel: () => void;\n    isEditing: boolean;\n}\n\nexport const BankForm: React.FC<BankFormProps> = ({ bankName, data, onSave, onCancel, isEditing }) => {\n    const [formData, setFormData] = useState<BankData>(data);\n    const [newBankName, setNewBankName] = useState(bankName);\n    const [errors, setErrors] = useState<Record<string, string>>({});\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [activeStep, setActiveStep] = useState(1);\n\n    useEffect(() => {\n        if (newBankName !== bankName) {\n            setFormData(data);\n            setNewBankName(bankName);\n            setErrors({});\n        }\n    }, [bankName, data, newBankName]);\n\n    // Bloquear scroll do body quando o modal estiver aberto\n    useEffect(() => {\n        document.body.classList.add('scroll-locked');\n\n        return () => {\n            document.body.classList.remove('scroll-locked');\n        };\n    }, []);\n\n    const validateForm = (): boolean => {\n        const newErrors: Record<string, string> = {};\n\n        if (!newBankName.trim()) {\n            newErrors.bankName = 'Nome do banco é obrigatório';\n        }\n\n        if (formData.valor_emprestimo <= 0) {\n            newErrors.valor_emprestimo = 'Valor do empréstimo deve ser maior que 0';\n        }\n\n        if (formData.tempo_emprestimo <= 0) {\n            newErrors.tempo_emprestimo = 'Tempo do empréstimo deve ser maior que 0';\n        }\n\n        if (formData.taxa_fixa <= 0) {\n            newErrors.taxa_fixa = 'Taxa fixa deve ser maior que 0';\n        }\n\n        if (formData.seguro_vida < 0) {\n            newErrors.seguro_vida = 'Seguro de vida não pode ser negativo';\n        }\n\n        if (formData.seguro_multiriscos < 0) {\n            newErrors.seguro_multiriscos = 'Seguro multiriscos não pode ser negativo';\n        }\n\n        if (formData.manutencao_conta < 0) {\n            newErrors.manutencao_conta = 'Manutenção de conta não pode ser negativa';\n        }\n\n        if (formData.premios_entrada < 0) {\n            newErrors.premios_entrada = 'Prémios de entrada não podem ser negativos';\n        }\n\n        if (formData.comissoes_iniciais < 0) {\n            newErrors.comissoes_iniciais = 'Comissões iniciais não podem ser negativas';\n        }\n\n        if (formData.outros < 0) {\n            newErrors.outros = 'Outros custos não podem ser negativos';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!validateForm()) {\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            await onSave(newBankName, formData);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleInputChange = (field: keyof BankData, value: number | boolean | any) => {\n        setFormData(prev => ({ ...prev, [field]: value }));\n        if (errors[field]) {\n            setErrors(prev => ({ ...prev, [field]: '' }));\n        }\n    };\n\n    const formatCurrency = (value: number) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const formatPercentage = (value: number) => {\n        return `${value.toFixed(3)}%`;\n    };\n\n    // Função para calcular prestação mensal\n    const calcularPrestacao = (capital: number, taxaAnual: number, nMeses: number): number => {\n        if (taxaAnual === 0 || nMeses === 0) return 0;\n        const taxaMensal = taxaAnual / 12 / 100;\n        return (capital * taxaMensal * Math.pow(1 + taxaMensal, nMeses)) / (Math.pow(1 + taxaMensal, nMeses) - 1);\n    };\n\n    // Função para calcular capital em dívida após período fixo\n    const calcularCapitalRestante = (capitalInicial: number, taxaAnual: number, nMeses: number): number => {\n        if (taxaAnual === 0 || nMeses === 0) return capitalInicial;\n\n        const taxaMensal = taxaAnual / 12 / 100;\n        const prestacao = calcularPrestacao(capitalInicial, taxaAnual, formData.tempo_emprestimo * 12);\n\n        // Calcular capital restante após nMeses de pagamentos\n        let capitalRestante = capitalInicial;\n        for (let mes = 1; mes <= nMeses; mes++) {\n            const juros = capitalRestante * taxaMensal;\n            const amortizacao = prestacao - juros;\n            capitalRestante = capitalRestante - amortizacao;\n        }\n\n        return Math.max(0, capitalRestante);\n    };\n\n    // Função para obter prestação usando mapa de dívida\n    const obterPrestacaoMapaDivida = (data: BankData, mes: number): number => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n        const entry = debtMap.find((entry: any) => entry.Mês === mes);\n        return entry ? entry[\"Prestação (€)\"] : 0;\n    };\n\n    const totalMonthlyCosts = formData.seguro_vida + formData.seguro_multiriscos + formData.manutencao_conta + formData.outros;\n\n    const steps = [\n        { id: 1, title: 'Informações Básicas', icon: Building2, color: 'blue' },\n        { id: 2, title: 'Taxas e Custos', icon: Calculator, color: 'green' },\n        { id: 3, title: 'Outflow Inicial', icon: CreditCard, color: 'purple' },\n        { id: 4, title: 'Amortizações', icon: TrendingUp, color: 'orange' },\n        { id: 5, title: 'Resumo', icon: CheckCircle, color: 'emerald' }\n    ];\n\n    const renderStepContent = () => {\n        switch (activeStep) {\n            case 1:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                    <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Informações Básicas</h3>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Nome do Banco *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={newBankName}\n                                        onChange={(e) => {\n                                            setNewBankName(e.target.value);\n                                            if (errors.bankName) setErrors(prev => ({ ...prev, bankName: '' }));\n                                        }}\n                                        className={`input ${errors.bankName ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: Banco de Portugal\"\n                                    />\n                                    {errors.bankName && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.bankName}</span>\n                                        </p>\n                                    )}\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Valor do Empréstimo (€) *\n                                    </label>\n                                    <input\n                                        type=\"number\"\n                                        value={formData.valor_emprestimo}\n                                        onChange={(e) => handleInputChange('valor_emprestimo', parseFloat(e.target.value) || 0)}\n                                        className={`input ${errors.valor_emprestimo ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: 200000\"\n                                        min=\"0\"\n                                        step=\"1000\"\n                                    />\n                                    {errors.valor_emprestimo && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.valor_emprestimo}</span>\n                                        </p>\n                                    )}\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Prazo (anos) *\n                                    </label>\n                                    <input\n                                        type=\"number\"\n                                        value={formData.tempo_emprestimo}\n                                        onChange={(e) => handleInputChange('tempo_emprestimo', parseInt(e.target.value) || 0)}\n                                        className={`input ${errors.tempo_emprestimo ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: 30\"\n                                        min=\"1\"\n                                        max=\"50\"\n                                    />\n                                    {errors.tempo_emprestimo && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.tempo_emprestimo}</span>\n                                        </p>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 2:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-green-100 rounded-lg\">\n                                    <Calculator className=\"h-5 w-5 text-green-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Taxas e Custos Mensais</h3>\n                            </div>\n\n                            <div className=\"space-y-6\">\n                                {/* Taxas */}\n                                <div className=\"space-y-4\">\n                                    <h4 className=\"font-semibold text-gray-800 text-base\">Taxas</h4>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Taxa Fixa (%) *\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.taxa_fixa}\n                                                onChange={(e) => handleInputChange('taxa_fixa', parseFloat(e.target.value) || 0)}\n                                                className={`input ${errors.taxa_fixa ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 3.5\"\n                                                min=\"0\"\n                                                max=\"20\"\n                                                step=\"0.001\"\n                                            />\n                                            {errors.taxa_fixa && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.taxa_fixa}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Período Fixo (anos)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.periodo_fixa}\n                                                onChange={(e) => handleInputChange('periodo_fixa', parseInt(e.target.value) || 0)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 2\"\n                                                min=\"0\"\n                                                max=\"50\"\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Euribor (%)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.euribor}\n                                                onChange={(e) => handleInputChange('euribor', parseFloat(e.target.value) || 0)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 2.081\"\n                                                min=\"0\"\n                                                max=\"20\"\n                                                step=\"0.001\"\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Spread (%)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.spread}\n                                                onChange={(e) => handleInputChange('spread', parseFloat(e.target.value) || 0)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 0.5\"\n                                                min=\"0\"\n                                                max=\"10\"\n                                                step=\"0.001\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Custos Mensais */}\n                                <div className=\"space-y-4\">\n                                    <h4 className=\"font-semibold text-gray-800 text-base\">Custos Mensais</h4>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Seguro de Vida (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.seguro_vida}\n                                                onChange={(e) => handleInputChange('seguro_vida', parseFloat(e.target.value) || 0)}\n                                                className={`input ${errors.seguro_vida ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 5.00\"\n                                                min=\"0\"\n                                                step=\"0.01\"\n                                            />\n                                            {errors.seguro_vida && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.seguro_vida}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Seguro Multirriscos (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.seguro_multiriscos}\n                                                onChange={(e) => handleInputChange('seguro_multiriscos', parseFloat(e.target.value) || 0)}\n                                                className={`input ${errors.seguro_multiriscos ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 3.50\"\n                                                min=\"0\"\n                                                step=\"0.01\"\n                                            />\n                                            {errors.seguro_multiriscos && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.seguro_multiriscos}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Manutenção de Conta (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.manutencao_conta}\n                                                onChange={(e) => handleInputChange('manutencao_conta', parseFloat(e.target.value) || 0)}\n                                                className={`input ${errors.manutencao_conta ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 10.00\"\n                                                min=\"0\"\n                                                step=\"0.01\"\n                                            />\n                                            {errors.manutencao_conta && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.manutencao_conta}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Outros Custos (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"number\"\n                                                value={formData.outros}\n                                                onChange={(e) => handleInputChange('outros', parseFloat(e.target.value) || 0)}\n                                                className={`input ${errors.outros ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 5.00\"\n                                                min=\"0\"\n                                                step=\"0.01\"\n                                            />\n                                            {errors.outros && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.outros}</span>\n                                                </p>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                                        <input\n                                            type=\"checkbox\"\n                                            id=\"devolucao_spread\"\n                                            checked={formData.devolucao_spread}\n                                            onChange={(e) => handleInputChange('devolucao_spread', e.target.checked)}\n                                            className=\"rounded border-gray-300 text-green-600 focus:ring-green-500 h-5 w-5\"\n                                        />\n                                        <label htmlFor=\"devolucao_spread\" className=\"text-sm font-medium text-gray-700\">\n                                            Devolução do Spread\n                                        </label>\n                                    </div>\n                                </div>\n\n                                {/* Resumo dos Custos Mensais */}\n                                <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\n                                    <div className=\"flex justify-between items-center\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Total Custos Mensais:</span>\n                                        <span className=\"font-semibold text-lg text-green-700\">{formatCurrency(totalMonthlyCosts)}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 3:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                                    <CreditCard className=\"h-5 w-5 text-purple-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Outflow Inicial</h3>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">\n                                            Prémios de Entrada (€)\n                                        </label>\n                                        <input\n                                            type=\"number\"\n                                            value={formData.premios_entrada}\n                                            onChange={(e) => handleInputChange('premios_entrada', parseFloat(e.target.value) || 0)}\n                                            className={`input ${errors.premios_entrada ? 'input-error' : ''}`}\n                                            placeholder=\"Ex: 200.00\"\n                                            min=\"0\"\n                                            step=\"0.01\"\n                                        />\n                                        {errors.premios_entrada && (\n                                            <p className=\"form-error\">\n                                                <AlertCircle className=\"h-4 w-4\" />\n                                                <span>{errors.premios_entrada}</span>\n                                            </p>\n                                        )}\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">\n                                            Comissões Iniciais (€)\n                                        </label>\n                                        <input\n                                            type=\"number\"\n                                            value={formData.comissoes_iniciais}\n                                            onChange={(e) => handleInputChange('comissoes_iniciais', parseFloat(e.target.value) || 0)}\n                                            className={`input ${errors.comissoes_iniciais ? 'input-error' : ''}`}\n                                            placeholder=\"Ex: 300.00\"\n                                            min=\"0\"\n                                            step=\"0.01\"\n                                        />\n                                        {errors.comissoes_iniciais && (\n                                            <p className=\"form-error\">\n                                                <AlertCircle className=\"h-4 w-4\" />\n                                                <span>{errors.comissoes_iniciais}</span>\n                                            </p>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Resumo dos Custos Iniciais */}\n                                <div className=\"space-y-3\">\n                                    <div className=\"flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Prémios de Entrada:</span>\n                                        <span className=\"font-semibold text-green-700\">+{formatCurrency(formData.premios_entrada)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Comissões Iniciais:</span>\n                                        <span className=\"font-semibold text-red-700\">-{formatCurrency(formData.comissoes_iniciais)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Saldo Inicial:</span>\n                                        <span className={`font-semibold text-lg ${formData.premios_entrada >= formData.comissoes_iniciais ? 'text-green-700' : 'text-red-700'}`}>\n                                            {formData.premios_entrada >= formData.comissoes_iniciais ? '+' : ''}\n                                            {formatCurrency(formData.premios_entrada - formData.comissoes_iniciais)}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 4:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-orange-100 rounded-lg\">\n                                    <TrendingUp className=\"h-5 w-5 text-orange-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Amortizações Antecipadas</h3>\n                            </div>\n\n                            <AmortizacoesForm\n                                amortizacoes={formData.amortizacoes || []}\n                                onAmortizacoesChange={(amortizacoes) => handleInputChange('amortizacoes', amortizacoes)}\n                                tempoEmprestimo={formData.tempo_emprestimo}\n                            />\n                        </div>\n                    </div>\n                );\n\n            case 5:\n                return (\n                    <div className=\"space-y-6\">\n                        {/* Hidden input to ensure form submission works */}\n                        <input type=\"hidden\" value=\"summary\" />\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-emerald-100 rounded-lg\">\n                                    <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Resumo da Proposta</h3>\n                            </div>\n\n                            {/* Informações Principais */}\n                            <div className=\"data-grid mb-6\">\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Valor do Empréstimo</div>\n                                    <div className=\"data-value\">{formatCurrency(formData.valor_emprestimo)}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Prazo Total</div>\n                                    <div className=\"data-value\">{formData.tempo_emprestimo} anos</div>\n                                    <div className=\"text-xs text-gray-500\">({formData.tempo_emprestimo * 12} meses)</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Taxa Fixa</div>\n                                    <div className=\"data-value\">{formatPercentage(formData.taxa_fixa)}</div>\n                                    <div className=\"text-xs text-gray-500\">Período: {formData.periodo_fixa} anos</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Custos Mensais</div>\n                                    <div className=\"data-value\">{formatCurrency(totalMonthlyCosts)}</div>\n                                </div>\n                            </div>\n\n                            {/* Taxas e Spread */}\n                            <div className=\"data-grid mb-6\">\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Euribor</div>\n                                    <div className=\"data-value\">{formatPercentage(formData.euribor)}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Spread</div>\n                                    <div className=\"data-value\">{formatPercentage(formData.spread)}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Devolução Spread</div>\n                                    <div className=\"data-value\">\n                                        {formData.devolucao_spread ? 'Sim' : 'Não'}\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Prestações por Período */}\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n                                {/* Prestação Período Fixo */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <Calculator className=\"h-4 w-4 text-blue-600\" />\n                                        <span>Prestação Período Fixo</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Taxa Aplicada:</span>\n                                            <span className=\"font-medium text-blue-700\">{formatPercentage(formData.taxa_fixa)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Duração:</span>\n                                            <span className=\"font-medium\">{formData.periodo_fixa} anos</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prestação Mensal:</span>\n                                            <span className=\"font-semibold text-lg text-blue-700\">\n                                                {formatCurrency(obterPrestacaoMapaDivida(formData, 1))}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Total com Custos:</span>\n                                            <span className=\"font-semibold text-lg text-blue-700\">\n                                                {formatCurrency(obterPrestacaoMapaDivida(formData, 1) + totalMonthlyCosts)}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Capital em Dívida (após {formData.periodo_fixa} anos):</span>\n                                            <span className=\"font-medium text-blue-600\">\n                                                {formatCurrency(calcularCapitalRestante(formData.valor_emprestimo, formData.taxa_fixa, formData.periodo_fixa * 12))}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Prestação Período Variável */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <TrendingUp className=\"h-4 w-4 text-purple-600\" />\n                                        <span>Prestação Período Variável</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Taxa Aplicada:</span>\n                                            <span className=\"font-medium text-purple-700\">{formatPercentage(formData.euribor + formData.spread)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Duração:</span>\n                                            <span className=\"font-medium\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    `${formData.tempo_emprestimo - formData.periodo_fixa} anos`\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prestação Mensal:</span>\n                                            <span className=\"font-semibold text-lg text-purple-700\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(obterPrestacaoMapaDivida(formData, formData.periodo_fixa * 12 + 1))\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Total com Custos:</span>\n                                            <span className=\"font-semibold text-lg text-purple-700\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(obterPrestacaoMapaDivida(formData, formData.periodo_fixa * 12 + 1) + totalMonthlyCosts)\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Capital em Dívida (início período variável):</span>\n                                            <span className=\"font-medium text-purple-600\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(calcularCapitalRestante(formData.valor_emprestimo, formData.taxa_fixa, formData.periodo_fixa * 12))\n                                                }\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Custos Detalhados */}\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n                                {/* Custos Mensais Detalhados */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <CreditCard className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Custos Mensais Detalhados</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Seguro de Vida:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.seguro_vida)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Seguro Multirriscos:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.seguro_multiriscos)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Manutenção de Conta:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.manutencao_conta)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Outros Custos:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.outros)}</span>\n                                        </div>\n                                        <div className=\"border-t pt-2 flex justify-between font-semibold text-emerald-700\">\n                                            <span>Total Mensal:</span>\n                                            <span>{formatCurrency(totalMonthlyCosts)}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Custos Iniciais */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <Euro className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Outflow Inicial</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prémios de Entrada:</span>\n                                            <span className=\"font-medium text-green-700\">+{formatCurrency(formData.premios_entrada)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Comissões Iniciais:</span>\n                                            <span className=\"font-medium text-orange-700\">-{formatCurrency(formData.comissoes_iniciais)}</span>\n                                        </div>\n                                        <div className=\"border-t pt-2 flex justify-between font-semibold\">\n                                            <span>Saldo Inicial:</span>\n                                            <span className={`${formData.premios_entrada >= formData.comissoes_iniciais ? 'text-green-700' : 'text-red-700'}`}>\n                                                {formData.premios_entrada >= formData.comissoes_iniciais ? '+' : ''}\n                                                {formatCurrency(formData.premios_entrada - formData.comissoes_iniciais)}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Amortizações Antecipadas */}\n                            {(formData.amortizacoes && formData.amortizacoes.length > 0) && (\n                                <div className=\"data-card mb-6\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <TrendingUp className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Amortizações Antecipadas</span>\n                                    </h4>\n                                    <div className=\"data-grid\">\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Total Amortizações</div>\n                                            <div className=\"data-value\">\n                                                {formatCurrency(formData.amortizacoes.reduce((total, a) => total + a.valor, 0))}\n                                            </div>\n                                        </div>\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Número de Amortizações</div>\n                                            <div className=\"data-value\">\n                                                {formData.amortizacoes.length}\n                                            </div>\n                                        </div>\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Média por Amortização</div>\n                                            <div className=\"data-value\">\n                                                {formatCurrency(formData.amortizacoes.reduce((total, a) => total + a.valor, 0) / formData.amortizacoes.length)}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n\n                            {/* Resumo Final */}\n                            <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n                                <h4 className=\"font-semibold text-blue-900 mb-3 flex items-center space-x-2\">\n                                    <CheckCircle className=\"h-4 w-4 text-blue-600\" />\n                                    <span>Resumo Final da Proposta</span>\n                                </h4>\n                                <div className=\"data-grid text-sm\">\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Valor Total</div>\n                                        <div className=\"data-value\">{formatCurrency(formData.valor_emprestimo)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Custos Anuais</div>\n                                        <div className=\"data-value\">{formatCurrency(totalMonthlyCosts * 12)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Custos Iniciais</div>\n                                        <div className=\"data-value\">{formatCurrency(formData.comissoes_iniciais)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Prémios de Entrada</div>\n                                        <div className=\"data-value\">{formatCurrency(formData.premios_entrada)}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col\">\n                {/* Header */}\n                <div className=\"flex-shrink-0 p-6 border-b border-gray-200\">\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-3\">\n                            <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                <Building2 className=\"h-6 w-6 text-blue-600\" />\n                            </div>\n                            <div>\n                                <h2 className=\"text-xl font-semibold text-gray-900\">\n                                    {isEditing ? 'Editar Banco' : 'Adicionar Novo Banco'}\n                                </h2>\n                                <p className=\"text-sm text-gray-600 mt-1\">\n                                    {newBankName || 'Nome do banco'}\n                                </p>\n                            </div>\n                        </div>\n                        <button\n                            onClick={onCancel}\n                            className=\"p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-colors duration-200\"\n                            aria-label=\"Fechar\"\n                        >\n                            <X className=\"h-6 w-6\" />\n                        </button>\n                    </div>\n\n                    {/* Progress Steps */}\n                    <div className=\"mt-6\">\n                        <div className=\"flex items-center justify-between\">\n                            {steps.map((step, index) => (\n                                <div key={step.id} className=\"flex items-center\">\n                                    <button\n                                        onClick={() => setActiveStep(step.id)}\n                                        className={`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${activeStep === step.id\n                                            ? 'bg-blue-100 text-blue-700 border border-blue-200'\n                                            : activeStep > step.id\n                                                ? 'bg-green-100 text-green-700 border border-green-200'\n                                                : 'bg-gray-100 text-gray-500 border border-gray-200'\n                                            }`}\n                                    >\n                                        <div className={`p-1 rounded ${activeStep === step.id\n                                            ? 'bg-blue-600 text-white'\n                                            : activeStep > step.id\n                                                ? 'bg-green-600 text-white'\n                                                : 'bg-gray-400 text-white'\n                                            }`}>\n                                            {activeStep > step.id ? (\n                                                <CheckCircle className=\"h-3 w-3\" />\n                                            ) : (\n                                                <step.icon className=\"h-3 w-3\" />\n                                            )}\n                                        </div>\n                                        <span className=\"hidden sm:block\">{step.title}</span>\n                                    </button>\n                                    {index < steps.length - 1 && (\n                                        <div className={`w-8 h-0.5 mx-2 ${activeStep > step.id ? 'bg-green-300' : 'bg-gray-200'\n                                            }`} />\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6\">\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\n                        {renderStepContent()}\n                    </form>\n                </div>\n\n                {/* Footer */}\n                <div className=\"flex-shrink-0 p-6 border-t border-gray-200 bg-gray-50\">\n                    <div className=\"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n                        <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                            <span>Passo {activeStep} de {steps.length}</span>\n                        </div>\n\n                        <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto\">\n                            <button\n                                type=\"button\"\n                                onClick={onCancel}\n                                className=\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                disabled={isSubmitting}\n                            >\n                                <X className=\"h-4 w-4\" />\n                                <span>Cancelar</span>\n                            </button>\n\n                            {activeStep > 1 && (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setActiveStep(activeStep - 1)}\n                                    className=\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                >\n                                    <ChevronLeft className=\"h-4 w-4\" />\n                                    <span>Anterior</span>\n                                </button>\n                            )}\n\n                            {activeStep < steps.length ? (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setActiveStep(activeStep + 1)}\n                                    className=\"btn-primary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                >\n                                    <span>Próximo</span>\n                                    <ChevronRight className=\"h-4 w-4\" />\n                                </button>\n                            ) : (\n                                <button\n                                    type=\"button\"\n                                    className=\"btn-success w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                    disabled={isSubmitting}\n                                    onClick={() => handleSubmit({ preventDefault: () => { } } as any)}\n                                >\n                                    {isSubmitting ? (\n                                        <>\n                                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                                            <span>Guardando...</span>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <Save className=\"h-4 w-4\" />\n                                            <span>{isEditing ? 'Atualizar Banco' : 'Adicionar Banco'}</span>\n                                        </>\n                                    )}\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}