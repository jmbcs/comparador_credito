{"ast":null,"code":"import{AlertCircle,Building2,Calculator,CheckCircle,ChevronLeft,ChevronRight,CreditCard,Euro,Save,TrendingUp,X}from'lucide-react';import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const BankForm=_ref=>{let{bankName,data,onSave,onCancel,isEditing}=_ref;const[formData,setFormData]=useState(data);const[newBankName,setNewBankName]=useState(isEditing?bankName:'');const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[activeStep,setActiveStep]=useState(1);// No useEffect needed - the component will be recreated with the key prop\n// Bloquear scroll do body quando o modal estiver aberto\nuseEffect(()=>{document.body.classList.add('scroll-locked');return()=>{document.body.classList.remove('scroll-locked');};},[]);const validateForm=()=>{const newErrors={};if(!newBankName.trim()){newErrors.bankName='Nome do banco é obrigatório';}// Função auxiliar para validar campos numéricos\nconst validateNumericField=function(field,fieldName){let minValue=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let allowZero=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const value=formData[field];if(typeof value==='string'){if(value===''||value==='.'||value==='0'){newErrors[field]=`${fieldName} é obrigatório`;}else{const numValue=parseFloat(value);if(isNaN(numValue)){newErrors[field]=`${fieldName} deve ser um número válido`;}else if(!allowZero&&numValue<=minValue){newErrors[field]=`${fieldName} deve ser maior que ${minValue}`;}else if(allowZero&&numValue<minValue){newErrors[field]=`${fieldName} não pode ser menor que ${minValue}`;}}}else if(typeof value==='number'){if(!allowZero&&value<=minValue){newErrors[field]=`${fieldName} deve ser maior que ${minValue}`;}else if(allowZero&&value<minValue){newErrors[field]=`${fieldName} não pode ser menor que ${minValue}`;}}};validateNumericField('valor_emprestimo','Valor do empréstimo',0,false);validateNumericField('tempo_emprestimo','Tempo do empréstimo',0,false);validateNumericField('taxa_fixa','Taxa fixa',0,false);validateNumericField('seguro_vida','Seguro de vida',0,true);validateNumericField('seguro_multiriscos','Seguro multiriscos',0,true);validateNumericField('manutencao_conta','Manutenção de conta',0,true);validateNumericField('premios_entrada','Prémios de entrada',0,true);validateNumericField('comissoes_iniciais','Comissões iniciais',0,true);validateNumericField('outros','Outros custos',0,true);setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{// Converter todos os valores string para números antes de salvar\nconst processedData={...formData,valor_emprestimo:typeof formData.valor_emprestimo==='string'?parseFloat(formData.valor_emprestimo)||0:formData.valor_emprestimo,tempo_emprestimo:typeof formData.tempo_emprestimo==='string'?parseFloat(formData.tempo_emprestimo)||0:formData.tempo_emprestimo,taxa_fixa:typeof formData.taxa_fixa==='string'?parseFloat(formData.taxa_fixa)||0:formData.taxa_fixa,periodo_fixa:typeof formData.periodo_fixa==='string'?parseFloat(formData.periodo_fixa)||0:formData.periodo_fixa,euribor:typeof formData.euribor==='string'?parseFloat(formData.euribor)||0:formData.euribor,spread:typeof formData.spread==='string'?parseFloat(formData.spread)||0:formData.spread,seguro_vida:typeof formData.seguro_vida==='string'?parseFloat(formData.seguro_vida)||0:formData.seguro_vida,seguro_multiriscos:typeof formData.seguro_multiriscos==='string'?parseFloat(formData.seguro_multiriscos)||0:formData.seguro_multiriscos,manutencao_conta:typeof formData.manutencao_conta==='string'?parseFloat(formData.manutencao_conta)||0:formData.manutencao_conta,premios_entrada:typeof formData.premios_entrada==='string'?parseFloat(formData.premios_entrada)||0:formData.premios_entrada,comissoes_iniciais:typeof formData.comissoes_iniciais==='string'?parseFloat(formData.comissoes_iniciais)||0:formData.comissoes_iniciais,outros:typeof formData.outros==='string'?parseFloat(formData.outros)||0:formData.outros};await onSave(newBankName,processedData);}finally{setIsSubmitting(false);}};const handleInputChange=(field,value)=>{setFormData(prev=>({...prev,[field]:value}));if(errors[field]){setErrors(prev=>({...prev,[field]:''}));}};const handleNumberInputChange=(field,value)=>{// Permitir strings vazias e qualquer padrão numérico válido durante a digitação\nif(value===''||value==='.'||value==='0'||/^0\\.$/.test(value)||/^0\\.\\d*$/.test(value)||/^\\d+\\.?\\d*$/.test(value)){// Manter como string para permitir digitação contínua\nsetFormData(prev=>({...prev,[field]:value}));}else{// Verificar se é um número válido\nconst numValue=parseFloat(value);if(!isNaN(numValue)){handleInputChange(field,numValue);}else{// Se não for um número válido, manter o valor anterior\nsetFormData(prev=>({...prev,[field]:prev[field]}));}}if(errors[field]){setErrors(prev=>({...prev,[field]:''}));}};const formatCurrency=value=>{return new Intl.NumberFormat('pt-PT',{style:'currency',currency:'EUR'}).format(value);};const formatPercentage=value=>{return`${value.toFixed(3)}%`;};// Função para calcular prestação mensal\nconst calcularPrestacao=(capital,taxaAnual,nMeses)=>{if(taxaAnual===0||nMeses===0)return 0;const taxaMensal=taxaAnual/12/100;return capital*taxaMensal*Math.pow(1+taxaMensal,nMeses)/(Math.pow(1+taxaMensal,nMeses)-1);};// Função para calcular capital em dívida após período fixo\nconst calcularCapitalRestante=(capitalInicial,taxaAnual,nMeses)=>{if(taxaAnual===0||nMeses===0)return capitalInicial;const taxaMensal=taxaAnual/12/100;const prestacao=calcularPrestacao(capitalInicial,taxaAnual,getNumericValue(formData.tempo_emprestimo)*12);// Calcular capital restante após nMeses de pagamentos\nlet capitalRestante=capitalInicial;for(let mes=1;mes<=nMeses;mes++){const juros=capitalRestante*taxaMensal;const amortizacao=prestacao-juros;capitalRestante=capitalRestante-amortizacao;}return Math.max(0,capitalRestante);};// Função para obter prestação usando mapa de dívida\nconst obterPrestacaoMapaDivida=(data,mes)=>{const{gerarMapaDivida}=require('../utils/calculations');// Converter dados para valores numéricos para os cálculos\nconst numericData={...data,valor_emprestimo:getNumericValue(data.valor_emprestimo),tempo_emprestimo:getNumericValue(data.tempo_emprestimo),taxa_fixa:getNumericValue(data.taxa_fixa),periodo_fixa:getNumericValue(data.periodo_fixa),euribor:getNumericValue(data.euribor),spread:getNumericValue(data.spread),seguro_vida:getNumericValue(data.seguro_vida),seguro_multiriscos:getNumericValue(data.seguro_multiriscos),manutencao_conta:getNumericValue(data.manutencao_conta),premios_entrada:getNumericValue(data.premios_entrada),comissoes_iniciais:getNumericValue(data.comissoes_iniciais),outros:getNumericValue(data.outros)};const debtMap=gerarMapaDivida(numericData,'temp');const entry=debtMap.find(entry=>entry.Mês===mes);return entry?entry[\"Prestação (€)\"]:0;};// Função auxiliar para obter valores numéricos de forma segura\nconst getNumericValue=value=>{if(typeof value==='number')return value;if(typeof value==='string'){const parsed=parseFloat(value);return isNaN(parsed)?0:parsed;}return 0;};const totalMonthlyCosts=getNumericValue(formData.seguro_vida)+getNumericValue(formData.seguro_multiriscos)+getNumericValue(formData.manutencao_conta)+getNumericValue(formData.outros);const steps=[{id:1,title:'Informações Básicas',icon:Building2,color:'blue'},{id:2,title:'Taxas e Custos',icon:Calculator,color:'green'},{id:3,title:'Outflow Inicial',icon:CreditCard,color:'purple'},{id:4,title:'Resumo',icon:CheckCircle,color:'emerald'}];const renderStepContent=()=>{switch(activeStep){case 1:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Informa\\xE7\\xF5es B\\xE1sicas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nome do Banco *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBankName,onChange:e=>{setNewBankName(e.target.value);if(errors.bankName)setErrors(prev=>({...prev,bankName:''}));},className:`input ${errors.bankName?'input-error':''}`,placeholder:\"Ex: Banco de Portugal\"}),errors.bankName&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.bankName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Valor do Empr\\xE9stimo (\\u20AC) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.valor_emprestimo==='string'?formData.valor_emprestimo:formData.valor_emprestimo||'',onChange:e=>handleNumberInputChange('valor_emprestimo',e.target.value),className:`input ${errors.valor_emprestimo?'input-error':''}`,placeholder:\"Ex: 200000\"}),errors.valor_emprestimo&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.valor_emprestimo})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Prazo (anos) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.tempo_emprestimo==='string'?formData.tempo_emprestimo:formData.tempo_emprestimo||'',onChange:e=>handleNumberInputChange('tempo_emprestimo',e.target.value),className:`input ${errors.tempo_emprestimo?'input-error':''}`,placeholder:\"Ex: 30\"}),errors.tempo_emprestimo&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.tempo_emprestimo})]})]})]})]})});case 2:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calculator,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Taxas e Custos Mensais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-base\",children:\"Taxas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Taxa Fixa (%) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.taxa_fixa==='string'?formData.taxa_fixa:formData.taxa_fixa||'',onChange:e=>handleNumberInputChange('taxa_fixa',e.target.value),className:`input ${errors.taxa_fixa?'input-error':''}`,placeholder:\"Ex: 3.5\"}),errors.taxa_fixa&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.taxa_fixa})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Per\\xEDodo Fixo (anos)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.periodo_fixa==='string'?formData.periodo_fixa:formData.periodo_fixa||'',onChange:e=>handleNumberInputChange('periodo_fixa',e.target.value),className:\"input\",placeholder:\"Ex: 2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Euribor (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.euribor==='string'?formData.euribor:formData.euribor||'',onChange:e=>handleNumberInputChange('euribor',e.target.value),className:\"input\",placeholder:\"Ex: 2.081\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Spread (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.spread==='string'?formData.spread:formData.spread||'',onChange:e=>handleNumberInputChange('spread',e.target.value),className:`input ${errors.spread?'input-error':''}`,placeholder:\"Ex: 0.5\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-base\",children:\"Custos Mensais\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seguro de Vida (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.seguro_vida==='string'?formData.seguro_vida:formData.seguro_vida||'',onChange:e=>handleNumberInputChange('seguro_vida',e.target.value),className:`input ${errors.seguro_vida?'input-error':''}`,placeholder:\"Ex: 5.00\"}),errors.seguro_vida&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.seguro_vida})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seguro Multirriscos (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.seguro_multiriscos==='string'?formData.seguro_multiriscos:formData.seguro_multiriscos||'',onChange:e=>handleNumberInputChange('seguro_multiriscos',e.target.value),className:`input ${errors.seguro_multiriscos?'input-error':''}`,placeholder:\"Ex: 3.50\"}),errors.seguro_multiriscos&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.seguro_multiriscos})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Manuten\\xE7\\xE3o de Conta (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.manutencao_conta==='string'?formData.manutencao_conta:formData.manutencao_conta||'',onChange:e=>handleNumberInputChange('manutencao_conta',e.target.value),className:`input ${errors.manutencao_conta?'input-error':''}`,placeholder:\"Ex: 10.00\"}),errors.manutencao_conta&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.manutencao_conta})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Outros Custos (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.outros==='string'?formData.outros:formData.outros||'',onChange:e=>handleNumberInputChange('outros',e.target.value),className:`input ${errors.outros?'input-error':''}`,placeholder:\"Ex: 5.00\"}),errors.outros&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.outros})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"devolucao_spread\",checked:formData.devolucao_spread,onChange:e=>handleInputChange('devolucao_spread',e.target.checked),className:\"rounded border-gray-300 text-green-600 focus:ring-green-500 h-5 w-5\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"devolucao_spread\",className:\"text-sm font-medium text-gray-700\",children:\"Devolu\\xE7\\xE3o do Spread\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-green-50 rounded-lg border border-green-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Total Custos Mensais:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-green-700\",children:formatCurrency(totalMonthlyCosts)})]})})]})]})});case 3:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(CreditCard,{className:\"h-5 w-5 text-purple-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Pr\\xE9mios de Entrada (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.premios_entrada==='string'?formData.premios_entrada:formData.premios_entrada||'',onChange:e=>handleNumberInputChange('premios_entrada',e.target.value),className:`input ${errors.premios_entrada?'input-error':''}`,placeholder:\"Ex: 200.00\"}),errors.premios_entrada&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.premios_entrada})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Comiss\\xF5es Iniciais (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:typeof formData.comissoes_iniciais==='string'?formData.comissoes_iniciais:formData.comissoes_iniciais||'',onChange:e=>handleNumberInputChange('comissoes_iniciais',e.target.value),className:`input ${errors.comissoes_iniciais?'input-error':''}`,placeholder:\"Ex: 300.00\"}),errors.comissoes_iniciais&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.comissoes_iniciais})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Pr\\xE9mios de Entrada:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-700\",children:[\"+\",formatCurrency(getNumericValue(formData.premios_entrada))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Comiss\\xF5es Iniciais:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-700\",children:[\"-\",formatCurrency(getNumericValue(formData.comissoes_iniciais))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Saldo Inicial:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-semibold text-lg ${getNumericValue(formData.premios_entrada)>=getNumericValue(formData.comissoes_iniciais)?'text-green-700':'text-red-700'}`,children:[getNumericValue(formData.premios_entrada)>=getNumericValue(formData.comissoes_iniciais)?'+':'',formatCurrency(getNumericValue(formData.premios_entrada)-getNumericValue(formData.comissoes_iniciais))]})]})]})]})]})});case 4:return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:\"summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-emerald-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-emerald-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Resumo da Proposta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Valor do Empr\\xE9stimo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(getNumericValue(formData.valor_emprestimo))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Prazo Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-value\",children:[getNumericValue(formData.tempo_emprestimo),\" anos\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"(\",getNumericValue(formData.tempo_emprestimo)*12,\" meses)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Taxa Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(getNumericValue(formData.taxa_fixa))}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Per\\xEDodo: \",getNumericValue(formData.periodo_fixa),\" anos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Mensais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(totalMonthlyCosts)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Euribor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(getNumericValue(formData.euribor))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(getNumericValue(formData.spread))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Devolu\\xE7\\xE3o Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formData.devolucao_spread?'Sim':'Não'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Presta\\xE7\\xE3o Per\\xEDodo Fixo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Taxa Aplicada:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-700\",children:formatPercentage(getNumericValue(formData.taxa_fixa))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[getNumericValue(formData.periodo_fixa),\" anos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-blue-700\",children:formatCurrency(obterPrestacaoMapaDivida(formData,1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total com Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-blue-700\",children:formatCurrency(obterPrestacaoMapaDivida(formData,1)+totalMonthlyCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Capital em D\\xEDvida (ap\\xF3s \",getNumericValue(formData.periodo_fixa),\" anos):\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:formatCurrency(calcularCapitalRestante(getNumericValue(formData.valor_emprestimo),getNumericValue(formData.taxa_fixa),getNumericValue(formData.periodo_fixa)*12))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-purple-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Presta\\xE7\\xE3o Per\\xEDodo Vari\\xE1vel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Taxa Aplicada:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-700\",children:formatPercentage(getNumericValue(formData.euribor)+getNumericValue(formData.spread))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:getNumericValue(formData.periodo_fixa)>=getNumericValue(formData.tempo_emprestimo)?'N/A (apenas período fixo)':`${getNumericValue(formData.tempo_emprestimo)-getNumericValue(formData.periodo_fixa)} anos`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-purple-700\",children:getNumericValue(formData.periodo_fixa)>=getNumericValue(formData.tempo_emprestimo)?'N/A (apenas período fixo)':formatCurrency(obterPrestacaoMapaDivida(formData,getNumericValue(formData.periodo_fixa)*12+1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total com Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-purple-700\",children:getNumericValue(formData.periodo_fixa)>=getNumericValue(formData.tempo_emprestimo)?'N/A (apenas período fixo)':formatCurrency(obterPrestacaoMapaDivida(formData,getNumericValue(formData.periodo_fixa)*12+1)+totalMonthlyCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Capital em D\\xEDvida (in\\xEDcio per\\xEDodo vari\\xE1vel):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:getNumericValue(formData.periodo_fixa)>=getNumericValue(formData.tempo_emprestimo)?'N/A (apenas período fixo)':formatCurrency(calcularCapitalRestante(getNumericValue(formData.valor_emprestimo),getNumericValue(formData.taxa_fixa),getNumericValue(formData.periodo_fixa)*12))})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CreditCard,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais Detalhados\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro de Vida:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(getNumericValue(formData.seguro_vida))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Multirriscos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(getNumericValue(formData.seguro_multiriscos))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Manuten\\xE7\\xE3o de Conta:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(getNumericValue(formData.manutencao_conta))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Outros Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(getNumericValue(formData.outros))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 flex justify-between font-semibold text-emerald-700\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatCurrency(totalMonthlyCosts)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Euro,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Pr\\xE9mios de Entrada:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-green-700\",children:[\"+\",formatCurrency(getNumericValue(formData.premios_entrada))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Comiss\\xF5es Iniciais:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-orange-700\",children:[\"-\",formatCurrency(getNumericValue(formData.comissoes_iniciais))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Saldo Inicial:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`${getNumericValue(formData.premios_entrada)>=getNumericValue(formData.comissoes_iniciais)?'text-green-700':'text-red-700'}`,children:[getNumericValue(formData.premios_entrada)>=getNumericValue(formData.comissoes_iniciais)?'+':'',formatCurrency(getNumericValue(formData.premios_entrada)-getNumericValue(formData.comissoes_iniciais))]})]})]})]})]}),formData.amortizacoes&&formData.amortizacoes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"data-card mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Amortiza\\xE7\\xF5es Antecipadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Total Amortiza\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.amortizacoes.reduce((total,a)=>total+a.valor,0))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"N\\xFAmero de Amortiza\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formData.amortizacoes.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"M\\xE9dia por Amortiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.amortizacoes.reduce((total,a)=>total+a.valor,0)/formData.amortizacoes.length)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-blue-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Resumo Final da Proposta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(getNumericValue(formData.valor_emprestimo))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Anuais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(totalMonthlyCosts*12)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Iniciais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(getNumericValue(formData.comissoes_iniciais))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Pr\\xE9mios de Entrada\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(getNumericValue(formData.premios_entrada))})]})]})]})]})]});default:return null;}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:isEditing?'Editar Banco':'Adicionar Novo Banco'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:newBankName||'Nome do banco'})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-colors duration-200\",\"aria-label\":\"Fechar\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:steps.map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveStep(step.id),className:`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200 ${activeStep===step.id?'bg-blue-600 text-white shadow-lg':activeStep>step.id?'bg-green-500 text-white':'bg-gray-200 text-gray-500 hover:bg-gray-300'}`,children:activeStep>step.id?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5\"}):/*#__PURE__*/_jsx(step.icon,{className:\"h-5 w-5\"})}),index<steps.length-1&&/*#__PURE__*/_jsx(\"div\",{className:`w-12 h-0.5 mx-2 rounded-full ${activeStep>step.id?'bg-green-400':'bg-gray-300'}`})]},step.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:steps[activeStep-1].title})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-6 pb-4\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:renderStepContent()})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-4 border-t border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Passo \",activeStep,\" de \",steps.length]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto\",children:[!isEditing&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:onCancel,className:\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\",disabled:isSubmitting,children:[/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cancelar\"})]}),activeStep>1&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setActiveStep(activeStep-1),className:\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Anterior\"})]}),activeStep<steps.length?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setActiveStep(activeStep+1),className:\"btn-primary w-full sm:w-auto flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pr\\xF3ximo\"}),/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4\"})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-success w-full sm:w-auto flex items-center justify-center space-x-2\",disabled:isSubmitting,onClick:()=>handleSubmit({preventDefault:()=>{}}),children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Guardando...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:isEditing?'Atualizar Banco':'Adicionar Banco'})]})})]})]})})]})});};","map":{"version":3,"names":["AlertCircle","Building2","Calculator","CheckCircle","ChevronLeft","ChevronRight","CreditCard","Euro","Save","TrendingUp","X","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BankForm","_ref","bankName","data","onSave","onCancel","isEditing","formData","setFormData","newBankName","setNewBankName","errors","setErrors","isSubmitting","setIsSubmitting","activeStep","setActiveStep","document","body","classList","add","remove","validateForm","newErrors","trim","validateNumericField","field","fieldName","minValue","arguments","length","undefined","allowZero","value","numValue","parseFloat","isNaN","Object","keys","handleSubmit","e","preventDefault","processedData","valor_emprestimo","tempo_emprestimo","taxa_fixa","periodo_fixa","euribor","spread","seguro_vida","seguro_multiriscos","manutencao_conta","premios_entrada","comissoes_iniciais","outros","handleInputChange","prev","handleNumberInputChange","test","formatCurrency","Intl","NumberFormat","style","currency","format","formatPercentage","toFixed","calcularPrestacao","capital","taxaAnual","nMeses","taxaMensal","Math","pow","calcularCapitalRestante","capitalInicial","prestacao","getNumericValue","capitalRestante","mes","juros","amortizacao","max","obterPrestacaoMapaDivida","gerarMapaDivida","require","numericData","debtMap","entry","find","Mês","parsed","totalMonthlyCosts","steps","id","title","icon","color","renderStepContent","className","children","type","onChange","target","placeholder","checked","devolucao_spread","htmlFor","amortizacoes","reduce","total","a","valor","onClick","map","step","index","onSubmit","disabled"],"sources":["/home/julio/github/jmbcs/comparador_credito/src/components/BankForm.tsx"],"sourcesContent":["import { AlertCircle, Building2, Calculator, CheckCircle, ChevronLeft, ChevronRight, CreditCard, Euro, Save, TrendingUp, X } from 'lucide-react';\nimport React, { useEffect, useState } from 'react';\nimport { BankData } from '../types';\n\ninterface BankFormProps {\n    bankName: string;\n    data: BankData;\n    onSave: (bankName: string, data: BankData) => void;\n    onCancel: () => void;\n    isEditing: boolean;\n}\n\nexport const BankForm: React.FC<BankFormProps> = ({ bankName, data, onSave, onCancel, isEditing }) => {\n    const [formData, setFormData] = useState<BankData>(data);\n    const [newBankName, setNewBankName] = useState(isEditing ? bankName : '');\n    const [errors, setErrors] = useState<Record<string, string>>({});\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [activeStep, setActiveStep] = useState(1);\n\n    // No useEffect needed - the component will be recreated with the key prop\n\n    // Bloquear scroll do body quando o modal estiver aberto\n    useEffect(() => {\n        document.body.classList.add('scroll-locked');\n\n        return () => {\n            document.body.classList.remove('scroll-locked');\n        };\n    }, []);\n\n    const validateForm = (): boolean => {\n        const newErrors: Record<string, string> = {};\n\n        if (!newBankName.trim()) {\n            newErrors.bankName = 'Nome do banco é obrigatório';\n        }\n\n        // Função auxiliar para validar campos numéricos\n        const validateNumericField = (field: keyof BankData, fieldName: string, minValue: number = 0, allowZero: boolean = false) => {\n            const value = formData[field];\n            if (typeof value === 'string') {\n                if (value === '' || value === '.' || value === '0') {\n                    newErrors[field] = `${fieldName} é obrigatório`;\n                } else {\n                    const numValue = parseFloat(value);\n                    if (isNaN(numValue)) {\n                        newErrors[field] = `${fieldName} deve ser um número válido`;\n                    } else if (!allowZero && numValue <= minValue) {\n                        newErrors[field] = `${fieldName} deve ser maior que ${minValue}`;\n                    } else if (allowZero && numValue < minValue) {\n                        newErrors[field] = `${fieldName} não pode ser menor que ${minValue}`;\n                    }\n                }\n            } else if (typeof value === 'number') {\n                if (!allowZero && value <= minValue) {\n                    newErrors[field] = `${fieldName} deve ser maior que ${minValue}`;\n                } else if (allowZero && value < minValue) {\n                    newErrors[field] = `${fieldName} não pode ser menor que ${minValue}`;\n                }\n            }\n        };\n\n        validateNumericField('valor_emprestimo', 'Valor do empréstimo', 0, false);\n        validateNumericField('tempo_emprestimo', 'Tempo do empréstimo', 0, false);\n        validateNumericField('taxa_fixa', 'Taxa fixa', 0, false);\n        validateNumericField('seguro_vida', 'Seguro de vida', 0, true);\n        validateNumericField('seguro_multiriscos', 'Seguro multiriscos', 0, true);\n        validateNumericField('manutencao_conta', 'Manutenção de conta', 0, true);\n        validateNumericField('premios_entrada', 'Prémios de entrada', 0, true);\n        validateNumericField('comissoes_iniciais', 'Comissões iniciais', 0, true);\n        validateNumericField('outros', 'Outros custos', 0, true);\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!validateForm()) {\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            // Converter todos os valores string para números antes de salvar\n            const processedData: BankData = {\n                ...formData,\n                valor_emprestimo: typeof formData.valor_emprestimo === 'string' ? parseFloat(formData.valor_emprestimo) || 0 : formData.valor_emprestimo,\n                tempo_emprestimo: typeof formData.tempo_emprestimo === 'string' ? parseFloat(formData.tempo_emprestimo) || 0 : formData.tempo_emprestimo,\n                taxa_fixa: typeof formData.taxa_fixa === 'string' ? parseFloat(formData.taxa_fixa) || 0 : formData.taxa_fixa,\n                periodo_fixa: typeof formData.periodo_fixa === 'string' ? parseFloat(formData.periodo_fixa) || 0 : formData.periodo_fixa,\n                euribor: typeof formData.euribor === 'string' ? parseFloat(formData.euribor) || 0 : formData.euribor,\n                spread: typeof formData.spread === 'string' ? parseFloat(formData.spread) || 0 : formData.spread,\n                seguro_vida: typeof formData.seguro_vida === 'string' ? parseFloat(formData.seguro_vida) || 0 : formData.seguro_vida,\n                seguro_multiriscos: typeof formData.seguro_multiriscos === 'string' ? parseFloat(formData.seguro_multiriscos) || 0 : formData.seguro_multiriscos,\n                manutencao_conta: typeof formData.manutencao_conta === 'string' ? parseFloat(formData.manutencao_conta) || 0 : formData.manutencao_conta,\n                premios_entrada: typeof formData.premios_entrada === 'string' ? parseFloat(formData.premios_entrada) || 0 : formData.premios_entrada,\n                comissoes_iniciais: typeof formData.comissoes_iniciais === 'string' ? parseFloat(formData.comissoes_iniciais) || 0 : formData.comissoes_iniciais,\n                outros: typeof formData.outros === 'string' ? parseFloat(formData.outros) || 0 : formData.outros,\n            };\n\n            await onSave(newBankName, processedData);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleInputChange = (field: keyof BankData, value: number | boolean | any) => {\n        setFormData(prev => ({ ...prev, [field]: value }));\n        if (errors[field]) {\n            setErrors(prev => ({ ...prev, [field]: '' }));\n        }\n    };\n\n    const handleNumberInputChange = (field: keyof BankData, value: string) => {\n        // Permitir strings vazias e qualquer padrão numérico válido durante a digitação\n        if (value === '' ||\n            value === '.' ||\n            value === '0' ||\n            /^0\\.$/.test(value) ||\n            /^0\\.\\d*$/.test(value) ||\n            /^\\d+\\.?\\d*$/.test(value)) {\n            // Manter como string para permitir digitação contínua\n            setFormData(prev => ({ ...prev, [field]: value }));\n        } else {\n            // Verificar se é um número válido\n            const numValue = parseFloat(value);\n            if (!isNaN(numValue)) {\n                handleInputChange(field, numValue);\n            } else {\n                // Se não for um número válido, manter o valor anterior\n                setFormData(prev => ({ ...prev, [field]: prev[field] }));\n            }\n        }\n        if (errors[field]) {\n            setErrors(prev => ({ ...prev, [field]: '' }));\n        }\n    };\n\n    const formatCurrency = (value: number) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const formatPercentage = (value: number) => {\n        return `${value.toFixed(3)}%`;\n    };\n\n    // Função para calcular prestação mensal\n    const calcularPrestacao = (capital: number, taxaAnual: number, nMeses: number): number => {\n        if (taxaAnual === 0 || nMeses === 0) return 0;\n        const taxaMensal = taxaAnual / 12 / 100;\n        return (capital * taxaMensal * Math.pow(1 + taxaMensal, nMeses)) / (Math.pow(1 + taxaMensal, nMeses) - 1);\n    };\n\n    // Função para calcular capital em dívida após período fixo\n    const calcularCapitalRestante = (capitalInicial: number, taxaAnual: number, nMeses: number): number => {\n        if (taxaAnual === 0 || nMeses === 0) return capitalInicial;\n\n        const taxaMensal = taxaAnual / 12 / 100;\n        const prestacao = calcularPrestacao(capitalInicial, taxaAnual, getNumericValue(formData.tempo_emprestimo) * 12);\n\n        // Calcular capital restante após nMeses de pagamentos\n        let capitalRestante = capitalInicial;\n        for (let mes = 1; mes <= nMeses; mes++) {\n            const juros = capitalRestante * taxaMensal;\n            const amortizacao = prestacao - juros;\n            capitalRestante = capitalRestante - amortizacao;\n        }\n\n        return Math.max(0, capitalRestante);\n    };\n\n    // Função para obter prestação usando mapa de dívida\n    const obterPrestacaoMapaDivida = (data: BankData, mes: number): number => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n\n        // Converter dados para valores numéricos para os cálculos\n        const numericData: BankData = {\n            ...data,\n            valor_emprestimo: getNumericValue(data.valor_emprestimo),\n            tempo_emprestimo: getNumericValue(data.tempo_emprestimo),\n            taxa_fixa: getNumericValue(data.taxa_fixa),\n            periodo_fixa: getNumericValue(data.periodo_fixa),\n            euribor: getNumericValue(data.euribor),\n            spread: getNumericValue(data.spread),\n            seguro_vida: getNumericValue(data.seguro_vida),\n            seguro_multiriscos: getNumericValue(data.seguro_multiriscos),\n            manutencao_conta: getNumericValue(data.manutencao_conta),\n            premios_entrada: getNumericValue(data.premios_entrada),\n            comissoes_iniciais: getNumericValue(data.comissoes_iniciais),\n            outros: getNumericValue(data.outros),\n        };\n\n        const debtMap = gerarMapaDivida(numericData, 'temp');\n        const entry = debtMap.find((entry: any) => entry.Mês === mes);\n        return entry ? entry[\"Prestação (€)\"] : 0;\n    };\n\n    // Função auxiliar para obter valores numéricos de forma segura\n    const getNumericValue = (value: any): number => {\n        if (typeof value === 'number') return value;\n        if (typeof value === 'string') {\n            const parsed = parseFloat(value);\n            return isNaN(parsed) ? 0 : parsed;\n        }\n        return 0;\n    };\n\n    const totalMonthlyCosts = getNumericValue(formData.seguro_vida) +\n        getNumericValue(formData.seguro_multiriscos) +\n        getNumericValue(formData.manutencao_conta) +\n        getNumericValue(formData.outros);\n\n    const steps = [\n        { id: 1, title: 'Informações Básicas', icon: Building2, color: 'blue' },\n        { id: 2, title: 'Taxas e Custos', icon: Calculator, color: 'green' },\n        { id: 3, title: 'Outflow Inicial', icon: CreditCard, color: 'purple' },\n        { id: 4, title: 'Resumo', icon: CheckCircle, color: 'emerald' }\n    ];\n\n    const renderStepContent = () => {\n        switch (activeStep) {\n            case 1:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                    <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Informações Básicas</h3>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Nome do Banco *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={newBankName}\n                                        onChange={(e) => {\n                                            setNewBankName(e.target.value);\n                                            if (errors.bankName) setErrors(prev => ({ ...prev, bankName: '' }));\n                                        }}\n                                        className={`input ${errors.bankName ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: Banco de Portugal\"\n                                    />\n                                    {errors.bankName && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.bankName}</span>\n                                        </p>\n                                    )}\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Valor do Empréstimo (€) *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={typeof formData.valor_emprestimo === 'string' ? formData.valor_emprestimo : (formData.valor_emprestimo || '')}\n                                        onChange={(e) => handleNumberInputChange('valor_emprestimo', e.target.value)}\n                                        className={`input ${errors.valor_emprestimo ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: 200000\"\n                                    />\n                                    {errors.valor_emprestimo && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.valor_emprestimo}</span>\n                                        </p>\n                                    )}\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Prazo (anos) *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={typeof formData.tempo_emprestimo === 'string' ? formData.tempo_emprestimo : (formData.tempo_emprestimo || '')}\n                                        onChange={(e) => handleNumberInputChange('tempo_emprestimo', e.target.value)}\n                                        className={`input ${errors.tempo_emprestimo ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: 30\"\n                                    />\n                                    {errors.tempo_emprestimo && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.tempo_emprestimo}</span>\n                                        </p>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 2:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-green-100 rounded-lg\">\n                                    <Calculator className=\"h-5 w-5 text-green-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Taxas e Custos Mensais</h3>\n                            </div>\n\n                            <div className=\"space-y-6\">\n                                {/* Taxas */}\n                                <div className=\"space-y-4\">\n                                    <h4 className=\"font-semibold text-gray-800 text-base\">Taxas</h4>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Taxa Fixa (%) *\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.taxa_fixa === 'string' ? formData.taxa_fixa : (formData.taxa_fixa || '')}\n                                                onChange={(e) => handleNumberInputChange('taxa_fixa', e.target.value)}\n                                                className={`input ${errors.taxa_fixa ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 3.5\"\n                                            />\n                                            {errors.taxa_fixa && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.taxa_fixa}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Período Fixo (anos)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.periodo_fixa === 'string' ? formData.periodo_fixa : (formData.periodo_fixa || '')}\n                                                onChange={(e) => handleNumberInputChange('periodo_fixa', e.target.value)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 2\"\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Euribor (%)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.euribor === 'string' ? formData.euribor : (formData.euribor || '')}\n                                                onChange={(e) => handleNumberInputChange('euribor', e.target.value)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 2.081\"\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Spread (%)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.spread === 'string' ? formData.spread : (formData.spread || '')}\n                                                onChange={(e) => handleNumberInputChange('spread', e.target.value)}\n                                                className={`input ${errors.spread ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 0.5\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Custos Mensais */}\n                                <div className=\"space-y-4\">\n                                    <h4 className=\"font-semibold text-gray-800 text-base\">Custos Mensais</h4>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Seguro de Vida (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.seguro_vida === 'string' ? formData.seguro_vida : (formData.seguro_vida || '')}\n                                                onChange={(e) => handleNumberInputChange('seguro_vida', e.target.value)}\n                                                className={`input ${errors.seguro_vida ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 5.00\"\n                                            />\n                                            {errors.seguro_vida && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.seguro_vida}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Seguro Multirriscos (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.seguro_multiriscos === 'string' ? formData.seguro_multiriscos : (formData.seguro_multiriscos || '')}\n                                                onChange={(e) => handleNumberInputChange('seguro_multiriscos', e.target.value)}\n                                                className={`input ${errors.seguro_multiriscos ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 3.50\"\n                                            />\n                                            {errors.seguro_multiriscos && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.seguro_multiriscos}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Manutenção de Conta (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.manutencao_conta === 'string' ? formData.manutencao_conta : (formData.manutencao_conta || '')}\n                                                onChange={(e) => handleNumberInputChange('manutencao_conta', e.target.value)}\n                                                className={`input ${errors.manutencao_conta ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 10.00\"\n                                            />\n                                            {errors.manutencao_conta && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.manutencao_conta}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Outros Custos (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={typeof formData.outros === 'string' ? formData.outros : (formData.outros || '')}\n                                                onChange={(e) => handleNumberInputChange('outros', e.target.value)}\n                                                className={`input ${errors.outros ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 5.00\"\n                                            />\n                                            {errors.outros && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.outros}</span>\n                                                </p>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                                        <input\n                                            type=\"checkbox\"\n                                            id=\"devolucao_spread\"\n                                            checked={formData.devolucao_spread}\n                                            onChange={(e) => handleInputChange('devolucao_spread', e.target.checked)}\n                                            className=\"rounded border-gray-300 text-green-600 focus:ring-green-500 h-5 w-5\"\n                                        />\n                                        <label htmlFor=\"devolucao_spread\" className=\"text-sm font-medium text-gray-700\">\n                                            Devolução do Spread\n                                        </label>\n                                    </div>\n                                </div>\n\n                                {/* Resumo dos Custos Mensais */}\n                                <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\n                                    <div className=\"flex justify-between items-center\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Total Custos Mensais:</span>\n                                        <span className=\"font-semibold text-lg text-green-700\">{formatCurrency(totalMonthlyCosts)}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 3:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                                    <CreditCard className=\"h-5 w-5 text-purple-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Outflow Inicial</h3>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">\n                                            Prémios de Entrada (€)\n                                        </label>\n                                        <input\n                                            type=\"text\"\n                                            value={typeof formData.premios_entrada === 'string' ? formData.premios_entrada : (formData.premios_entrada || '')}\n                                            onChange={(e) => handleNumberInputChange('premios_entrada', e.target.value)}\n                                            className={`input ${errors.premios_entrada ? 'input-error' : ''}`}\n                                            placeholder=\"Ex: 200.00\"\n                                        />\n                                        {errors.premios_entrada && (\n                                            <p className=\"form-error\">\n                                                <AlertCircle className=\"h-4 w-4\" />\n                                                <span>{errors.premios_entrada}</span>\n                                            </p>\n                                        )}\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">\n                                            Comissões Iniciais (€)\n                                        </label>\n                                        <input\n                                            type=\"text\"\n                                            value={typeof formData.comissoes_iniciais === 'string' ? formData.comissoes_iniciais : (formData.comissoes_iniciais || '')}\n                                            onChange={(e) => handleNumberInputChange('comissoes_iniciais', e.target.value)}\n                                            className={`input ${errors.comissoes_iniciais ? 'input-error' : ''}`}\n                                            placeholder=\"Ex: 300.00\"\n                                        />\n                                        {errors.comissoes_iniciais && (\n                                            <p className=\"form-error\">\n                                                <AlertCircle className=\"h-4 w-4\" />\n                                                <span>{errors.comissoes_iniciais}</span>\n                                            </p>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Resumo dos Custos Iniciais */}\n                                <div className=\"space-y-3\">\n                                    <div className=\"flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Prémios de Entrada:</span>\n                                        <span className=\"font-semibold text-green-700\">+{formatCurrency(getNumericValue(formData.premios_entrada))}</span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Comissões Iniciais:</span>\n                                        <span className=\"font-semibold text-red-700\">-{formatCurrency(getNumericValue(formData.comissoes_iniciais))}</span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Saldo Inicial:</span>\n                                        <span className={`font-semibold text-lg ${getNumericValue(formData.premios_entrada) >= getNumericValue(formData.comissoes_iniciais) ? 'text-green-700' : 'text-red-700'}`}>\n                                            {getNumericValue(formData.premios_entrada) >= getNumericValue(formData.comissoes_iniciais) ? '+' : ''}\n                                            {formatCurrency(getNumericValue(formData.premios_entrada) - getNumericValue(formData.comissoes_iniciais))}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 4:\n                return (\n                    <div className=\"space-y-6\">\n                        {/* Hidden input to ensure form submission works */}\n                        <input type=\"hidden\" value=\"summary\" />\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-emerald-100 rounded-lg\">\n                                    <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Resumo da Proposta</h3>\n                            </div>\n\n                            {/* Informações Principais */}\n                            <div className=\"data-grid mb-6\">\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Valor do Empréstimo</div>\n                                    <div className=\"data-value\">{formatCurrency(getNumericValue(formData.valor_emprestimo))}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Prazo Total</div>\n                                    <div className=\"data-value\">{getNumericValue(formData.tempo_emprestimo)} anos</div>\n                                    <div className=\"text-xs text-gray-500\">({getNumericValue(formData.tempo_emprestimo) * 12} meses)</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Taxa Fixa</div>\n                                    <div className=\"data-value\">{formatPercentage(getNumericValue(formData.taxa_fixa))}</div>\n                                    <div className=\"text-xs text-gray-500\">Período: {getNumericValue(formData.periodo_fixa)} anos</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Custos Mensais</div>\n                                    <div className=\"data-value\">{formatCurrency(totalMonthlyCosts)}</div>\n                                </div>\n                            </div>\n\n                            {/* Taxas e Spread */}\n                            <div className=\"data-grid mb-6\">\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Euribor</div>\n                                    <div className=\"data-value\">{formatPercentage(getNumericValue(formData.euribor))}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Spread</div>\n                                    <div className=\"data-value\">{formatPercentage(getNumericValue(formData.spread))}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Devolução Spread</div>\n                                    <div className=\"data-value\">\n                                        {formData.devolucao_spread ? 'Sim' : 'Não'}\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Prestações por Período */}\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n                                {/* Prestação Período Fixo */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <Calculator className=\"h-4 w-4 text-blue-600\" />\n                                        <span>Prestação Período Fixo</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Taxa Aplicada:</span>\n                                            <span className=\"font-medium text-blue-700\">{formatPercentage(getNumericValue(formData.taxa_fixa))}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Duração:</span>\n                                            <span className=\"font-medium\">{getNumericValue(formData.periodo_fixa)} anos</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prestação Mensal:</span>\n                                            <span className=\"font-semibold text-lg text-blue-700\">\n                                                {formatCurrency(obterPrestacaoMapaDivida(formData, 1))}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Total com Custos:</span>\n                                            <span className=\"font-semibold text-lg text-blue-700\">\n                                                {formatCurrency(obterPrestacaoMapaDivida(formData, 1) + totalMonthlyCosts)}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Capital em Dívida (após {getNumericValue(formData.periodo_fixa)} anos):</span>\n                                            <span className=\"font-medium text-blue-600\">\n                                                {formatCurrency(calcularCapitalRestante(getNumericValue(formData.valor_emprestimo), getNumericValue(formData.taxa_fixa), getNumericValue(formData.periodo_fixa) * 12))}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Prestação Período Variável */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <TrendingUp className=\"h-4 w-4 text-purple-600\" />\n                                        <span>Prestação Período Variável</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Taxa Aplicada:</span>\n                                            <span className=\"font-medium text-purple-700\">{formatPercentage(getNumericValue(formData.euribor) + getNumericValue(formData.spread))}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Duração:</span>\n                                            <span className=\"font-medium\">\n                                                {getNumericValue(formData.periodo_fixa) >= getNumericValue(formData.tempo_emprestimo) ?\n                                                    'N/A (apenas período fixo)' :\n                                                    `${getNumericValue(formData.tempo_emprestimo) - getNumericValue(formData.periodo_fixa)} anos`\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prestação Mensal:</span>\n                                            <span className=\"font-semibold text-lg text-purple-700\">\n                                                {getNumericValue(formData.periodo_fixa) >= getNumericValue(formData.tempo_emprestimo) ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(obterPrestacaoMapaDivida(formData, getNumericValue(formData.periodo_fixa) * 12 + 1))\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Total com Custos:</span>\n                                            <span className=\"font-semibold text-lg text-purple-700\">\n                                                {getNumericValue(formData.periodo_fixa) >= getNumericValue(formData.tempo_emprestimo) ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(obterPrestacaoMapaDivida(formData, getNumericValue(formData.periodo_fixa) * 12 + 1) + totalMonthlyCosts)\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Capital em Dívida (início período variável):</span>\n                                            <span className=\"font-medium text-purple-600\">\n                                                {getNumericValue(formData.periodo_fixa) >= getNumericValue(formData.tempo_emprestimo) ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(calcularCapitalRestante(getNumericValue(formData.valor_emprestimo), getNumericValue(formData.taxa_fixa), getNumericValue(formData.periodo_fixa) * 12))\n                                                }\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Custos Detalhados */}\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n                                {/* Custos Mensais Detalhados */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <CreditCard className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Custos Mensais Detalhados</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Seguro de Vida:</span>\n                                            <span className=\"font-medium\">{formatCurrency(getNumericValue(formData.seguro_vida))}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Seguro Multirriscos:</span>\n                                            <span className=\"font-medium\">{formatCurrency(getNumericValue(formData.seguro_multiriscos))}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Manutenção de Conta:</span>\n                                            <span className=\"font-medium\">{formatCurrency(getNumericValue(formData.manutencao_conta))}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Outros Custos:</span>\n                                            <span className=\"font-medium\">{formatCurrency(getNumericValue(formData.outros))}</span>\n                                        </div>\n                                        <div className=\"border-t pt-2 flex justify-between font-semibold text-emerald-700\">\n                                            <span>Total Mensal:</span>\n                                            <span>{formatCurrency(totalMonthlyCosts)}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Custos Iniciais */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <Euro className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Outflow Inicial</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prémios de Entrada:</span>\n                                            <span className=\"font-medium text-green-700\">+{formatCurrency(getNumericValue(formData.premios_entrada))}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Comissões Iniciais:</span>\n                                            <span className=\"font-medium text-orange-700\">-{formatCurrency(getNumericValue(formData.comissoes_iniciais))}</span>\n                                        </div>\n                                        <div className=\"border-t pt-2 flex justify-between font-semibold\">\n                                            <span>Saldo Inicial:</span>\n                                            <span className={`${getNumericValue(formData.premios_entrada) >= getNumericValue(formData.comissoes_iniciais) ? 'text-green-700' : 'text-red-700'}`}>\n                                                {getNumericValue(formData.premios_entrada) >= getNumericValue(formData.comissoes_iniciais) ? '+' : ''}\n                                                {formatCurrency(getNumericValue(formData.premios_entrada) - getNumericValue(formData.comissoes_iniciais))}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Amortizações Antecipadas */}\n                            {(formData.amortizacoes && formData.amortizacoes.length > 0) && (\n                                <div className=\"data-card mb-6\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <TrendingUp className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Amortizações Antecipadas</span>\n                                    </h4>\n                                    <div className=\"data-grid\">\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Total Amortizações</div>\n                                            <div className=\"data-value\">\n                                                {formatCurrency(formData.amortizacoes.reduce((total, a) => total + a.valor, 0))}\n                                            </div>\n                                        </div>\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Número de Amortizações</div>\n                                            <div className=\"data-value\">\n                                                {formData.amortizacoes.length}\n                                            </div>\n                                        </div>\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Média por Amortização</div>\n                                            <div className=\"data-value\">\n                                                {formatCurrency(formData.amortizacoes.reduce((total, a) => total + a.valor, 0) / formData.amortizacoes.length)}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n\n                            {/* Resumo Final */}\n                            <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n                                <h4 className=\"font-semibold text-blue-900 mb-3 flex items-center space-x-2\">\n                                    <CheckCircle className=\"h-4 w-4 text-blue-600\" />\n                                    <span>Resumo Final da Proposta</span>\n                                </h4>\n                                <div className=\"data-grid text-sm\">\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Valor Total</div>\n                                        <div className=\"data-value\">{formatCurrency(getNumericValue(formData.valor_emprestimo))}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Custos Anuais</div>\n                                        <div className=\"data-value\">{formatCurrency(totalMonthlyCosts * 12)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Custos Iniciais</div>\n                                        <div className=\"data-value\">{formatCurrency(getNumericValue(formData.comissoes_iniciais))}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Prémios de Entrada</div>\n                                        <div className=\"data-value\">{formatCurrency(getNumericValue(formData.premios_entrada))}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] flex flex-col\">\n                {/* Header */}\n                <div className=\"flex-shrink-0 p-6 border-b border-gray-200\">\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-3\">\n                            <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                <Building2 className=\"h-6 w-6 text-blue-600\" />\n                            </div>\n                            <div>\n                                <h2 className=\"text-xl font-semibold text-gray-900\">\n                                    {isEditing ? 'Editar Banco' : 'Adicionar Novo Banco'}\n                                </h2>\n                                <p className=\"text-sm text-gray-600 mt-1\">\n                                    {newBankName || 'Nome do banco'}\n                                </p>\n                            </div>\n                        </div>\n                        <button\n                            onClick={onCancel}\n                            className=\"p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-colors duration-200\"\n                            aria-label=\"Fechar\"\n                        >\n                            <X className=\"h-6 w-6\" />\n                        </button>\n                    </div>\n\n                    {/* Progress Steps */}\n                    <div className=\"mt-6\">\n                        <div className=\"flex items-center justify-center\">\n                            <div className=\"flex items-center space-x-2\">\n                                {steps.map((step, index) => (\n                                    <div key={step.id} className=\"flex items-center\">\n                                        <button\n                                            onClick={() => setActiveStep(step.id)}\n                                            className={`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200 ${activeStep === step.id\n                                                ? 'bg-blue-600 text-white shadow-lg'\n                                                : activeStep > step.id\n                                                    ? 'bg-green-500 text-white'\n                                                    : 'bg-gray-200 text-gray-500 hover:bg-gray-300'\n                                                }`}\n                                        >\n                                            {activeStep > step.id ? (\n                                                <CheckCircle className=\"h-5 w-5\" />\n                                            ) : (\n                                                <step.icon className=\"h-5 w-5\" />\n                                            )}\n                                        </button>\n                                        {index < steps.length - 1 && (\n                                            <div className={`w-12 h-0.5 mx-2 rounded-full ${activeStep > step.id ? 'bg-green-400' : 'bg-gray-300'\n                                                }`} />\n                                        )}\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                        <div className=\"mt-3 text-center\">\n                            <span className=\"text-sm font-medium text-gray-700\">\n                                {steps[activeStep - 1].title}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6 pb-4\">\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\n                        {renderStepContent()}\n                    </form>\n                </div>\n\n                {/* Footer */}\n                <div className=\"flex-shrink-0 p-4 border-t border-gray-200 bg-gray-50\">\n                    <div className=\"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n                        <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                            <span>Passo {activeStep} de {steps.length}</span>\n                        </div>\n\n                        <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto\">\n                            {!isEditing && (\n                                <button\n                                    type=\"button\"\n                                    onClick={onCancel}\n                                    className=\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                    disabled={isSubmitting}\n                                >\n                                    <X className=\"h-4 w-4\" />\n                                    <span>Cancelar</span>\n                                </button>\n                            )}\n\n                            {activeStep > 1 && (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setActiveStep(activeStep - 1)}\n                                    className=\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                >\n                                    <ChevronLeft className=\"h-4 w-4\" />\n                                    <span>Anterior</span>\n                                </button>\n                            )}\n\n                            {activeStep < steps.length ? (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setActiveStep(activeStep + 1)}\n                                    className=\"btn-primary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                >\n                                    <span>Próximo</span>\n                                    <ChevronRight className=\"h-4 w-4\" />\n                                </button>\n                            ) : (\n                                <button\n                                    type=\"button\"\n                                    className=\"btn-success w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                    disabled={isSubmitting}\n                                    onClick={() => handleSubmit({ preventDefault: () => { } } as any)}\n                                >\n                                    {isSubmitting ? (\n                                        <>\n                                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                                            <span>Guardando...</span>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <Save className=\"h-4 w-4\" />\n                                            <span>{isEditing ? 'Atualizar Banco' : 'Adicionar Banco'}</span>\n                                        </>\n                                    )}\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}