{"ast":null,"code":"import{Building2,Calendar,ChevronDown,ChevronRight,ChevronUp,DollarSign,TrendingUp}from'lucide-react';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const ProposalComparisonTable=_ref=>{let{banksData}=_ref;const[selectedBank,setSelectedBank]=useState(null);const[expandedBanks,setExpandedBanks]=useState(new Set());const toggleAllBanks=expand=>{if(expand){setExpandedBanks(new Set(Object.keys(banksData)));}else{setExpandedBanks(new Set());}};const toggleBankExpansion=bankName=>{const newExpandedBanks=new Set(expandedBanks);if(newExpandedBanks.has(bankName)){newExpandedBanks.delete(bankName);}else{newExpandedBanks.add(bankName);}setExpandedBanks(newExpandedBanks);};const formatCurrency=value=>{return new Intl.NumberFormat('pt-PT',{style:'currency',currency:'EUR'}).format(value);};const formatPercentage=value=>{return`${value.toFixed(2)}%`;};// Calculate monthly payment for fixed rate\nconst calculateFixedPayment=data=>{const monthlyRate=data.taxa_fixa/100/12;const totalPayments=data.tempo_emprestimo*12;if(monthlyRate===0)return data.valor_emprestimo/totalPayments;const payment=data.valor_emprestimo*(monthlyRate*Math.pow(1+monthlyRate,totalPayments))/(Math.pow(1+monthlyRate,totalPayments)-1);return payment;};// Calculate monthly payment for variable rate (including spread refund)\nconst calculateVariablePayment=data=>{const monthlyRate=(data.euribor+data.spread)/100/12;const totalPayments=data.tempo_emprestimo*12;if(monthlyRate===0)return data.valor_emprestimo/totalPayments;const payment=data.valor_emprestimo*(monthlyRate*Math.pow(1+monthlyRate,totalPayments))/(Math.pow(1+monthlyRate,totalPayments)-1);// Apply spread refund if applicable\nlet spreadRefund=0;if(data.devolucao_spread){const spreadMonthlyRate=data.spread/100/12;spreadRefund=data.valor_emprestimo*spreadMonthlyRate;}return payment-spreadRefund;};// Calculate total monthly costs\nconst calculateTotalMonthlyCosts=data=>{return data.seguro_vida+data.seguro_multiriscos+data.manutencao_conta+data.outros;};// Calculate spread refund total (only during fixed rate period, considering debt capital)\nconst calculateSpreadRefund=data=>{if(!data.devolucao_spread)return 0;// Calculate average debt capital during fixed rate period\nconst{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get debt capital for each month during fixed rate period\nconst fixedPeriodMonths=data.periodo_fixa*12;const fixedPeriodData=debtMap.slice(0,fixedPeriodMonths);if(fixedPeriodData.length===0)return 0;// Calculate average debt capital during fixed period\nconst totalDebtCapital=fixedPeriodData.reduce((sum,entry)=>{return sum+entry[\"Capital em Dívida (€)\"];},0);const averageDebtCapital=totalDebtCapital/fixedPeriodData.length;// Calculate total spread refund based on average debt capital\nconst monthlySpreadRefund=averageDebtCapital*(data.spread/100)/12;const totalRefund=monthlySpreadRefund*data.periodo_fixa*12;return totalRefund;};const bankNames=Object.keys(banksData);if(bankNames.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-icon\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"empty-state-title\",children:\"Nenhum banco configurado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-state-description\",children:\"Adicione bancos para comparar propostas\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 lg:hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleAllBanks(expandedBanks.size===0),className:\"flex items-center space-x-1 px-3 py-1.5 bg-white rounded-lg border border-gray-200 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors\",children:expandedBanks.size===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronDown,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Expandir\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Colapsar\"})]})})}),bankNames.map(bankName=>{const data=banksData[bankName];const totalMonthly=calculateTotalMonthlyCosts(data);const totalInitial=data.premios_entrada-data.comissoes_iniciais+calculateSpreadRefund(data);const isExpanded=expandedBanks.has(bankName);return/*#__PURE__*/_jsxs(\"div\",{className:\"card card-hover\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"expandable-header\",onClick:()=>toggleBankExpansion(bankName),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:bankName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Clique para ver detalhes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:formatCurrency(calculateFixedPayment(data))})]}),/*#__PURE__*/_jsx(ChevronRight,{className:`h-5 w-5 text-gray-400 transition-transform duration-200 ${isExpanded?'rotate-90':''}`})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:`expandable-content ${isExpanded?'expandable-content-expanded':'expandable-content-collapsed'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 pb-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-blue-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Taxas e Presta\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Taxa Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(data.taxa_fixa)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(data.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Presta\\xE7\\xE3o Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(calculateFixedPayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(calculateVariablePayment(data))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-green-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Pr\\xE9mios\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[\"+\",formatCurrency(data.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Comiss\\xF5es\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-600\",children:[\"-\",formatCurrency(data.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Devolu\\xE7\\xE3o Spread\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[data.devolucao_spread?'+':'',formatCurrency(calculateSpreadRefund(data))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 rounded-lg p-3 border border-green-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-green-900\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-semibold text-lg ${totalInitial>=0?'text-green-600':'text-red-600'}`,children:[totalInitial>=0?'+':'',formatCurrency(totalInitial)]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Vida\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.seguro_vida)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Multiriscos\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.seguro_multiriscos)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Manuten\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.manutencao_conta)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 rounded-lg p-3 border border-red-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-red-900\",children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-red-600\",children:formatCurrency(totalMonthly)})]})})]})]})]})})]},bankName);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"responsive-table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Compara\\xE7\\xE3o de Propostas\"})]})}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{children:bankName})]})},bankName))]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"bg-blue-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-blue-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Taxas e Presta\\xE7\\xF5es\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Taxa Fixa (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900\",children:formatPercentage(banksData[bankName].taxa_fixa)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Per\\xEDodo Fixo (anos)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900\",children:banksData[bankName].periodo_fixa},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Spread (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatPercentage(banksData[bankName].spread)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Euribor (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatPercentage(banksData[bankName].euribor)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Presta\\xE7\\xE3o Fixa (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900\",children:formatCurrency(calculateFixedPayment(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900\",children:formatCurrency(calculateVariablePayment(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsx(\"tr\",{className:\"bg-green-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-green-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Pr\\xE9mios (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-green-600\",children:[\"+\",formatCurrency(banksData[bankName].premios_entrada)]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Comiss\\xF5es (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-red-600\",children:[\"-\",formatCurrency(banksData[bankName].comissoes_iniciais)]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Devolu\\xE7\\xE3o Spread (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-green-600\",children:[banksData[bankName].devolucao_spread?'+':'',formatCurrency(calculateSpreadRefund(banksData[bankName]))]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-green-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-green-700\",children:\"Total Outflow Inicial (\\u20AC)\"}),bankNames.map(bankName=>{const totalInitialCosts=banksData[bankName].premios_entrada-banksData[bankName].comissoes_iniciais+calculateSpreadRefund(banksData[bankName]);const isPositive=totalInitialCosts>=0;return/*#__PURE__*/_jsxs(\"td\",{className:`text-center font-semibold ${isPositive?'text-green-600':'text-red-600'}`,children:[isPositive?'+':'',formatCurrency(totalInitialCosts)]},bankName);})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"bg-purple-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-purple-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Seguro Vida (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].seguro_vida)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Seguro Multiriscos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].seguro_multiriscos)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Manuten\\xE7\\xE3o Conta (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].manutencao_conta)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Outros (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].outros)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-red-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-red-700\",children:\"Total Custos Mensais (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-red-600\",children:formatCurrency(calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]})]})]})})})})]});};","map":{"version":3,"names":["Building2","Calendar","ChevronDown","ChevronRight","ChevronUp","DollarSign","TrendingUp","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProposalComparisonTable","_ref","banksData","selectedBank","setSelectedBank","expandedBanks","setExpandedBanks","Set","toggleAllBanks","expand","Object","keys","toggleBankExpansion","bankName","newExpandedBanks","has","delete","add","formatCurrency","value","Intl","NumberFormat","style","currency","format","formatPercentage","toFixed","calculateFixedPayment","data","monthlyRate","taxa_fixa","totalPayments","tempo_emprestimo","valor_emprestimo","payment","Math","pow","calculateVariablePayment","euribor","spread","spreadRefund","devolucao_spread","spreadMonthlyRate","calculateTotalMonthlyCosts","seguro_vida","seguro_multiriscos","manutencao_conta","outros","calculateSpreadRefund","gerarMapaDivida","require","debtMap","fixedPeriodMonths","periodo_fixa","fixedPeriodData","slice","length","totalDebtCapital","reduce","sum","entry","averageDebtCapital","monthlySpreadRefund","totalRefund","bankNames","className","children","onClick","size","map","totalMonthly","totalInitial","premios_entrada","comissoes_iniciais","isExpanded","colSpan","totalInitialCosts","isPositive"],"sources":["/home/julio/Desktop/credito/src/components/ProposalComparisonTable.tsx"],"sourcesContent":["import { Building2, Calendar, ChevronDown, ChevronRight, ChevronUp, DollarSign, TrendingUp } from 'lucide-react';\nimport { useState } from 'react';\nimport { BankData } from '../types';\n\ninterface ProposalComparisonTableProps {\n    banksData: { [key: string]: BankData };\n}\n\nexport const ProposalComparisonTable = ({ banksData }: ProposalComparisonTableProps) => {\n    const [selectedBank, setSelectedBank] = useState<string | null>(null);\n    const [expandedBanks, setExpandedBanks] = useState<Set<string>>(new Set());\n\n    const toggleAllBanks = (expand: boolean) => {\n        if (expand) {\n            setExpandedBanks(new Set(Object.keys(banksData)));\n        } else {\n            setExpandedBanks(new Set());\n        }\n    };\n\n    const toggleBankExpansion = (bankName: string) => {\n        const newExpandedBanks = new Set(expandedBanks);\n        if (newExpandedBanks.has(bankName)) {\n            newExpandedBanks.delete(bankName);\n        } else {\n            newExpandedBanks.add(bankName);\n        }\n        setExpandedBanks(newExpandedBanks);\n    };\n\n    const formatCurrency = (value: number) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const formatPercentage = (value: number) => {\n        return `${value.toFixed(2)}%`;\n    };\n\n    // Calculate monthly payment for fixed rate\n    const calculateFixedPayment = (data: BankData) => {\n        const monthlyRate = data.taxa_fixa / 100 / 12;\n        const totalPayments = data.tempo_emprestimo * 12;\n\n        if (monthlyRate === 0) return data.valor_emprestimo / totalPayments;\n\n        const payment = data.valor_emprestimo *\n            (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) /\n            (Math.pow(1 + monthlyRate, totalPayments) - 1);\n\n        return payment;\n    };\n\n    // Calculate monthly payment for variable rate (including spread refund)\n    const calculateVariablePayment = (data: BankData) => {\n        const monthlyRate = (data.euribor + data.spread) / 100 / 12;\n        const totalPayments = data.tempo_emprestimo * 12;\n\n        if (monthlyRate === 0) return data.valor_emprestimo / totalPayments;\n\n        const payment = data.valor_emprestimo *\n            (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) /\n            (Math.pow(1 + monthlyRate, totalPayments) - 1);\n\n        // Apply spread refund if applicable\n        let spreadRefund = 0;\n        if (data.devolucao_spread) {\n            const spreadMonthlyRate = data.spread / 100 / 12;\n            spreadRefund = data.valor_emprestimo * spreadMonthlyRate;\n        }\n\n        return payment - spreadRefund;\n    };\n\n    // Calculate total monthly costs\n    const calculateTotalMonthlyCosts = (data: BankData) => {\n        return data.seguro_vida + data.seguro_multiriscos + data.manutencao_conta + data.outros;\n    };\n\n    // Calculate spread refund total (only during fixed rate period, considering debt capital)\n    const calculateSpreadRefund = (data: BankData) => {\n        if (!data.devolucao_spread) return 0;\n\n        // Calculate average debt capital during fixed rate period\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get debt capital for each month during fixed rate period\n        const fixedPeriodMonths = data.periodo_fixa * 12;\n        const fixedPeriodData = debtMap.slice(0, fixedPeriodMonths);\n\n        if (fixedPeriodData.length === 0) return 0;\n\n        // Calculate average debt capital during fixed period\n        const totalDebtCapital = fixedPeriodData.reduce((sum: number, entry: any) => {\n            return sum + entry[\"Capital em Dívida (€)\"];\n        }, 0);\n\n        const averageDebtCapital = totalDebtCapital / fixedPeriodData.length;\n\n        // Calculate total spread refund based on average debt capital\n        const monthlySpreadRefund = (averageDebtCapital * (data.spread / 100)) / 12;\n        const totalRefund = monthlySpreadRefund * data.periodo_fixa * 12;\n\n        return totalRefund;\n    };\n\n    const bankNames = Object.keys(banksData);\n\n    if (bankNames.length === 0) {\n        return (\n            <div className=\"empty-state\">\n                <div className=\"empty-state-icon\">\n                    <Building2 className=\"h-8 w-8 text-blue-600\" />\n                </div>\n                <h3 className=\"empty-state-title\">Nenhum banco configurado</h3>\n                <p className=\"empty-state-description\">Adicione bancos para comparar propostas</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Mobile Cards */}\n            <div className=\"space-y-4 lg:hidden\">\n                {/* Expand/Collapse Controls */}\n                <div className=\"flex items-center justify-end\">\n                    <button\n                        onClick={() => toggleAllBanks(expandedBanks.size === 0)}\n                        className=\"flex items-center space-x-1 px-3 py-1.5 bg-white rounded-lg border border-gray-200 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors\"\n                    >\n                        {expandedBanks.size === 0 ? (\n                            <>\n                                <ChevronDown className=\"h-3 w-3\" />\n                                <span>Expandir</span>\n                            </>\n                        ) : (\n                            <>\n                                <ChevronUp className=\"h-3 w-3\" />\n                                <span>Colapsar</span>\n                            </>\n                        )}\n                    </button>\n                </div>\n                {bankNames.map((bankName) => {\n                    const data = banksData[bankName];\n                    const totalMonthly = calculateTotalMonthlyCosts(data);\n                    const totalInitial = data.premios_entrada - data.comissoes_iniciais + calculateSpreadRefund(data);\n                    const isExpanded = expandedBanks.has(bankName);\n\n                    return (\n                        <div key={bankName} className=\"card card-hover\">\n                            {/* Bank Header */}\n                            <div\n                                className=\"expandable-header\"\n                                onClick={() => toggleBankExpansion(bankName)}\n                            >\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center space-x-3\">\n                                        <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                            <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                        </div>\n                                        <div>\n                                            <h3 className=\"font-semibold text-gray-900\">{bankName}</h3>\n                                            <p className=\"text-sm text-gray-500\">Clique para ver detalhes</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"flex items-center space-x-3\">\n                                        <div className=\"text-right\">\n                                            <div className=\"text-sm text-gray-600\">Prestação Fixa</div>\n                                            <div className=\"font-semibold text-gray-900\">{formatCurrency(calculateFixedPayment(data))}</div>\n                                        </div>\n                                        <ChevronRight className={`h-5 w-5 text-gray-400 transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`} />\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Expandable Content */}\n                            <div className={`expandable-content ${isExpanded ? 'expandable-content-expanded' : 'expandable-content-collapsed'}`}>\n                                <div className=\"px-4 pb-4 space-y-4\">\n                                    {/* Rates */}\n                                    <div className=\"bg-blue-50 rounded-lg p-4\">\n                                        <h4 className=\"text-sm font-semibold text-blue-900 mb-3 flex items-center space-x-2\">\n                                            <TrendingUp className=\"h-4 w-4\" />\n                                            <span>Taxas e Prestações</span>\n                                        </h4>\n                                        <div className=\"data-grid\">\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Taxa Fixa</div>\n                                                <div className=\"data-value\">{formatPercentage(data.taxa_fixa)}</div>\n                                            </div>\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Spread</div>\n                                                <div className=\"data-value\">{formatPercentage(data.spread)}</div>\n                                            </div>\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Prestação Fixa</div>\n                                                <div className=\"data-value\">{formatCurrency(calculateFixedPayment(data))}</div>\n                                            </div>\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Prestação Variável</div>\n                                                <div className=\"data-value\">{formatCurrency(calculateVariablePayment(data))}</div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Initial Costs */}\n                                    <div className=\"bg-green-50 rounded-lg p-4\">\n                                        <h4 className=\"text-sm font-semibold text-green-900 mb-3 flex items-center space-x-2\">\n                                            <DollarSign className=\"h-4 w-4\" />\n                                            <span>Outflow Inicial</span>\n                                        </h4>\n                                        <div className=\"space-y-3\">\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Prémios</span>\n                                                <span className=\"font-semibold text-green-600\">+{formatCurrency(data.premios_entrada)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Comissões</span>\n                                                <span className=\"font-semibold text-red-600\">-{formatCurrency(data.comissoes_iniciais)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Devolução Spread</span>\n                                                <span className=\"font-semibold text-green-600\">\n                                                    {data.devolucao_spread ? '+' : ''}{formatCurrency(calculateSpreadRefund(data))}\n                                                </span>\n                                            </div>\n                                            <div className=\"bg-green-100 rounded-lg p-3 border border-green-200\">\n                                                <div className=\"flex justify-between items-center\">\n                                                    <span className=\"text-sm font-semibold text-green-900\">Total</span>\n                                                    <span className={`font-semibold text-lg ${totalInitial >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                                        {totalInitial >= 0 ? '+' : ''}{formatCurrency(totalInitial)}\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Monthly Costs */}\n                                    <div className=\"bg-purple-50 rounded-lg p-4\">\n                                        <h4 className=\"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2\">\n                                            <Calendar className=\"h-4 w-4\" />\n                                            <span>Custos Mensais</span>\n                                        </h4>\n                                        <div className=\"space-y-3\">\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Seguro Vida</span>\n                                                <span className=\"font-semibold text-gray-900\">{formatCurrency(data.seguro_vida)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Seguro Multiriscos</span>\n                                                <span className=\"font-semibold text-gray-900\">{formatCurrency(data.seguro_multiriscos)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Manutenção</span>\n                                                <span className=\"font-semibold text-gray-900\">{formatCurrency(data.manutencao_conta)}</span>\n                                            </div>\n                                            <div className=\"bg-red-100 rounded-lg p-3 border border-red-200\">\n                                                <div className=\"flex justify-between items-center\">\n                                                    <span className=\"text-sm font-semibold text-red-900\">Total</span>\n                                                    <span className=\"font-semibold text-lg text-red-600\">{formatCurrency(totalMonthly)}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n\n            {/* Desktop Table */}\n            <div className=\"hidden lg:block\">\n                <div className=\"table-container\">\n                    <div className=\"responsive-table\">\n                        <table className=\"table\">\n                            <thead>\n                                <tr>\n                                    <th className=\"text-left\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <TrendingUp className=\"h-5 w-5 text-blue-600\" />\n                                            <span>Comparação de Propostas</span>\n                                        </div>\n                                    </th>\n                                    {bankNames.map(bankName => (\n                                        <th key={bankName} className=\"text-center\">\n                                            <div className=\"flex items-center justify-center space-x-2\">\n                                                <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                                    <Building2 className=\"h-4 w-4 text-blue-600\" />\n                                                </div>\n                                                <span>{bankName}</span>\n                                            </div>\n                                        </th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {/* Taxas */}\n                                <tr className=\"bg-blue-50\">\n                                    <td className=\"font-semibold text-blue-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <TrendingUp className=\"h-5 w-5\" />\n                                            <span>Taxas e Prestações</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Taxa Fixa (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            {formatPercentage(banksData[bankName].taxa_fixa)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Período Fixo (anos)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            {banksData[bankName].periodo_fixa}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Spread (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatPercentage(banksData[bankName].spread)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Euribor (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatPercentage(banksData[bankName].euribor)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Prestação Fixa (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            {formatCurrency(calculateFixedPayment(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Prestação Variável (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            {formatCurrency(calculateVariablePayment(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                {/* Outflow Inicial */}\n                                <tr className=\"bg-green-50\">\n                                    <td className=\"font-semibold text-green-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <DollarSign className=\"h-5 w-5\" />\n                                            <span>Outflow Inicial</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Prémios (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-green-600\">\n                                            +{formatCurrency(banksData[bankName].premios_entrada)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Comissões (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-red-600\">\n                                            -{formatCurrency(banksData[bankName].comissoes_iniciais)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Devolução Spread (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-green-600\">\n                                            {banksData[bankName].devolucao_spread ? '+' : ''}{formatCurrency(calculateSpreadRefund(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-green-50\">\n                                    <td className=\"font-semibold text-green-700\">Total Outflow Inicial (€)</td>\n                                    {bankNames.map((bankName) => {\n                                        const totalInitialCosts =\n                                            banksData[bankName].premios_entrada -\n                                            banksData[bankName].comissoes_iniciais +\n                                            calculateSpreadRefund(banksData[bankName]);\n\n                                        const isPositive = totalInitialCosts >= 0;\n\n                                        return (\n                                            <td key={bankName} className={`text-center font-semibold ${isPositive ? 'text-green-600' : 'text-red-600'}`}>\n                                                {isPositive ? '+' : ''}{formatCurrency(totalInitialCosts)}\n                                            </td>\n                                        );\n                                    })}\n                                </tr>\n\n                                {/* Custos Mensais */}\n                                <tr className=\"bg-purple-50\">\n                                    <td className=\"font-semibold text-purple-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <Calendar className=\"h-5 w-5\" />\n                                            <span>Custos Mensais</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Seguro Vida (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].seguro_vida)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Seguro Multiriscos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].seguro_multiriscos)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Manutenção Conta (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].manutencao_conta)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Outros (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].outros)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-red-50\">\n                                    <td className=\"font-semibold text-red-700\">Total Custos Mensais (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-red-600\">\n                                            {formatCurrency(calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}