{"ast":null,"code":"import{AlertCircle,Building2,Calculator,CheckCircle,ChevronLeft,ChevronRight,CreditCard,Euro,Save,TrendingUp,X}from'lucide-react';import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const BankForm=_ref=>{let{bankName,data,onSave,onCancel,isEditing}=_ref;const[formData,setFormData]=useState(data);const[newBankName,setNewBankName]=useState(isEditing?bankName:'');const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[activeStep,setActiveStep]=useState(1);// No useEffect needed - the component will be recreated with the key prop\n// Bloquear scroll do body quando o modal estiver aberto\nuseEffect(()=>{document.body.classList.add('scroll-locked');return()=>{document.body.classList.remove('scroll-locked');};},[]);const validateForm=()=>{const newErrors={};if(!newBankName.trim()){newErrors.bankName='Nome do banco é obrigatório';}if(formData.valor_emprestimo<=0){newErrors.valor_emprestimo='Valor do empréstimo deve ser maior que 0';}if(formData.tempo_emprestimo<=0){newErrors.tempo_emprestimo='Tempo do empréstimo deve ser maior que 0';}if(formData.taxa_fixa<=0){newErrors.taxa_fixa='Taxa fixa deve ser maior que 0';}if(formData.seguro_vida<0){newErrors.seguro_vida='Seguro de vida não pode ser negativo';}if(formData.seguro_multiriscos<0){newErrors.seguro_multiriscos='Seguro multiriscos não pode ser negativo';}if(formData.manutencao_conta<0){newErrors.manutencao_conta='Manutenção de conta não pode ser negativa';}if(formData.premios_entrada<0){newErrors.premios_entrada='Prémios de entrada não podem ser negativos';}if(formData.comissoes_iniciais<0){newErrors.comissoes_iniciais='Comissões iniciais não podem ser negativas';}if(formData.outros<0){newErrors.outros='Outros custos não podem ser negativos';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{await onSave(newBankName,formData);}finally{setIsSubmitting(false);}};const handleInputChange=(field,value)=>{setFormData(prev=>({...prev,[field]:value}));if(errors[field]){setErrors(prev=>({...prev,[field]:''}));}};const handleNumberInputChange=(field,value)=>{const numValue=value===''?0:parseFloat(value)||0;handleInputChange(field,numValue);};const formatCurrency=value=>{return new Intl.NumberFormat('pt-PT',{style:'currency',currency:'EUR'}).format(value);};const formatPercentage=value=>{return`${value.toFixed(3)}%`;};// Função para calcular prestação mensal\nconst calcularPrestacao=(capital,taxaAnual,nMeses)=>{if(taxaAnual===0||nMeses===0)return 0;const taxaMensal=taxaAnual/12/100;return capital*taxaMensal*Math.pow(1+taxaMensal,nMeses)/(Math.pow(1+taxaMensal,nMeses)-1);};// Função para calcular capital em dívida após período fixo\nconst calcularCapitalRestante=(capitalInicial,taxaAnual,nMeses)=>{if(taxaAnual===0||nMeses===0)return capitalInicial;const taxaMensal=taxaAnual/12/100;const prestacao=calcularPrestacao(capitalInicial,taxaAnual,formData.tempo_emprestimo*12);// Calcular capital restante após nMeses de pagamentos\nlet capitalRestante=capitalInicial;for(let mes=1;mes<=nMeses;mes++){const juros=capitalRestante*taxaMensal;const amortizacao=prestacao-juros;capitalRestante=capitalRestante-amortizacao;}return Math.max(0,capitalRestante);};// Função para obter prestação usando mapa de dívida\nconst obterPrestacaoMapaDivida=(data,mes)=>{const{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');const entry=debtMap.find(entry=>entry.Mês===mes);return entry?entry[\"Prestação (€)\"]:0;};const totalMonthlyCosts=formData.seguro_vida+formData.seguro_multiriscos+formData.manutencao_conta+formData.outros;const steps=[{id:1,title:'Informações Básicas',icon:Building2,color:'blue'},{id:2,title:'Taxas e Custos',icon:Calculator,color:'green'},{id:3,title:'Outflow Inicial',icon:CreditCard,color:'purple'},{id:4,title:'Resumo',icon:CheckCircle,color:'emerald'}];const renderStepContent=()=>{switch(activeStep){case 1:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Informa\\xE7\\xF5es B\\xE1sicas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nome do Banco *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newBankName,onChange:e=>{setNewBankName(e.target.value);if(errors.bankName)setErrors(prev=>({...prev,bankName:''}));},className:`input ${errors.bankName?'input-error':''}`,placeholder:\"Ex: Banco de Portugal\"}),errors.bankName&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.bankName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Valor do Empr\\xE9stimo (\\u20AC) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.valor_emprestimo||'',onChange:e=>handleNumberInputChange('valor_emprestimo',e.target.value),className:`input ${errors.valor_emprestimo?'input-error':''}`,placeholder:\"Ex: 200000\"}),errors.valor_emprestimo&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.valor_emprestimo})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Prazo (anos) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.tempo_emprestimo||'',onChange:e=>handleNumberInputChange('tempo_emprestimo',e.target.value),className:`input ${errors.tempo_emprestimo?'input-error':''}`,placeholder:\"Ex: 30\"}),errors.tempo_emprestimo&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.tempo_emprestimo})]})]})]})]})});case 2:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(Calculator,{className:\"h-5 w-5 text-green-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Taxas e Custos Mensais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-base\",children:\"Taxas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Taxa Fixa (%) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.taxa_fixa||'',onChange:e=>handleNumberInputChange('taxa_fixa',e.target.value),className:`input ${errors.taxa_fixa?'input-error':''}`,placeholder:\"Ex: 3.5\"}),errors.taxa_fixa&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.taxa_fixa})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Per\\xEDodo Fixo (anos)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.periodo_fixa||'',onChange:e=>handleNumberInputChange('periodo_fixa',e.target.value),className:\"input\",placeholder:\"Ex: 2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Euribor (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.euribor||'',onChange:e=>handleNumberInputChange('euribor',e.target.value),className:\"input\",placeholder:\"Ex: 2.081\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Spread (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.spread||'',onChange:e=>handleNumberInputChange('spread',e.target.value),className:\"input\",placeholder:\"Ex: 0.5\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 text-base\",children:\"Custos Mensais\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seguro de Vida (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.seguro_vida||'',onChange:e=>handleNumberInputChange('seguro_vida',e.target.value),className:`input ${errors.seguro_vida?'input-error':''}`,placeholder:\"Ex: 5.00\"}),errors.seguro_vida&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.seguro_vida})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Seguro Multirriscos (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.seguro_multiriscos||'',onChange:e=>handleNumberInputChange('seguro_multiriscos',e.target.value),className:`input ${errors.seguro_multiriscos?'input-error':''}`,placeholder:\"Ex: 3.50\"}),errors.seguro_multiriscos&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.seguro_multiriscos})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Manuten\\xE7\\xE3o de Conta (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.manutencao_conta||'',onChange:e=>handleNumberInputChange('manutencao_conta',e.target.value),className:`input ${errors.manutencao_conta?'input-error':''}`,placeholder:\"Ex: 10.00\"}),errors.manutencao_conta&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.manutencao_conta})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Outros Custos (\\u20AC/m\\xEAs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.outros||'',onChange:e=>handleNumberInputChange('outros',e.target.value),className:`input ${errors.outros?'input-error':''}`,placeholder:\"Ex: 5.00\"}),errors.outros&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.outros})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"devolucao_spread\",checked:formData.devolucao_spread,onChange:e=>handleInputChange('devolucao_spread',e.target.checked),className:\"rounded border-gray-300 text-green-600 focus:ring-green-500 h-5 w-5\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"devolucao_spread\",className:\"text-sm font-medium text-gray-700\",children:\"Devolu\\xE7\\xE3o do Spread\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-green-50 rounded-lg border border-green-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Total Custos Mensais:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-green-700\",children:formatCurrency(totalMonthlyCosts)})]})})]})]})});case 3:return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(CreditCard,{className:\"h-5 w-5 text-purple-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Pr\\xE9mios de Entrada (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.premios_entrada||'',onChange:e=>handleNumberInputChange('premios_entrada',e.target.value),className:`input ${errors.premios_entrada?'input-error':''}`,placeholder:\"Ex: 200.00\"}),errors.premios_entrada&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.premios_entrada})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Comiss\\xF5es Iniciais (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.comissoes_iniciais||'',onChange:e=>handleNumberInputChange('comissoes_iniciais',e.target.value),className:`input ${errors.comissoes_iniciais?'input-error':''}`,placeholder:\"Ex: 300.00\"}),errors.comissoes_iniciais&&/*#__PURE__*/_jsxs(\"p\",{className:\"form-error\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:errors.comissoes_iniciais})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Pr\\xE9mios de Entrada:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-700\",children:[\"+\",formatCurrency(formData.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Comiss\\xF5es Iniciais:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-700\",children:[\"-\",formatCurrency(formData.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Saldo Inicial:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-semibold text-lg ${formData.premios_entrada>=formData.comissoes_iniciais?'text-green-700':'text-red-700'}`,children:[formData.premios_entrada>=formData.comissoes_iniciais?'+':'',formatCurrency(formData.premios_entrada-formData.comissoes_iniciais)]})]})]})]})]})});case 4:return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:\"summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-emerald-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-emerald-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Resumo da Proposta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Valor do Empr\\xE9stimo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.valor_emprestimo)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Prazo Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-value\",children:[formData.tempo_emprestimo,\" anos\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"(\",formData.tempo_emprestimo*12,\" meses)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Taxa Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(formData.taxa_fixa)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Per\\xEDodo: \",formData.periodo_fixa,\" anos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Mensais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(totalMonthlyCosts)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Euribor\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(formData.euribor)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(formData.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Devolu\\xE7\\xE3o Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formData.devolucao_spread?'Sim':'Não'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Presta\\xE7\\xE3o Per\\xEDodo Fixo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Taxa Aplicada:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-700\",children:formatPercentage(formData.taxa_fixa)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[formData.periodo_fixa,\" anos\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-blue-700\",children:formatCurrency(obterPrestacaoMapaDivida(formData,1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total com Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-blue-700\",children:formatCurrency(obterPrestacaoMapaDivida(formData,1)+totalMonthlyCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Capital em D\\xEDvida (ap\\xF3s \",formData.periodo_fixa,\" anos):\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:formatCurrency(calcularCapitalRestante(formData.valor_emprestimo,formData.taxa_fixa,formData.periodo_fixa*12))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-purple-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Presta\\xE7\\xE3o Per\\xEDodo Vari\\xE1vel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Taxa Aplicada:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-700\",children:formatPercentage(formData.euribor+formData.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':`${formData.tempo_emprestimo-formData.periodo_fixa} anos`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-purple-700\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':formatCurrency(obterPrestacaoMapaDivida(formData,formData.periodo_fixa*12+1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Total com Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-purple-700\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':formatCurrency(obterPrestacaoMapaDivida(formData,formData.periodo_fixa*12+1)+totalMonthlyCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Capital em D\\xEDvida (in\\xEDcio per\\xEDodo vari\\xE1vel):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-purple-600\",children:formData.periodo_fixa>=formData.tempo_emprestimo?'N/A (apenas período fixo)':formatCurrency(calcularCapitalRestante(formData.valor_emprestimo,formData.taxa_fixa,formData.periodo_fixa*12))})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CreditCard,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais Detalhados\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro de Vida:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.seguro_vida)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Multirriscos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.seguro_multiriscos)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Manuten\\xE7\\xE3o de Conta:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.manutencao_conta)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Outros Custos:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatCurrency(formData.outros)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 flex justify-between font-semibold text-emerald-700\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Mensal:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatCurrency(totalMonthlyCosts)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Euro,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Pr\\xE9mios de Entrada:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-green-700\",children:[\"+\",formatCurrency(formData.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Comiss\\xF5es Iniciais:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-orange-700\",children:[\"-\",formatCurrency(formData.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 flex justify-between font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Saldo Inicial:\"}),/*#__PURE__*/_jsxs(\"span\",{className:`${formData.premios_entrada>=formData.comissoes_iniciais?'text-green-700':'text-red-700'}`,children:[formData.premios_entrada>=formData.comissoes_iniciais?'+':'',formatCurrency(formData.premios_entrada-formData.comissoes_iniciais)]})]})]})]})]}),formData.amortizacoes&&formData.amortizacoes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"data-card mb-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-emerald-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Amortiza\\xE7\\xF5es Antecipadas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Total Amortiza\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.amortizacoes.reduce((total,a)=>total+a.valor,0))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"N\\xFAmero de Amortiza\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formData.amortizacoes.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"M\\xE9dia por Amortiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.amortizacoes.reduce((total,a)=>total+a.valor,0)/formData.amortizacoes.length)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-blue-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Resumo Final da Proposta\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.valor_emprestimo)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Anuais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(totalMonthlyCosts*12)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Custos Iniciais\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.comissoes_iniciais)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Pr\\xE9mios de Entrada\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(formData.premios_entrada)})]})]})]})]})]});default:return null;}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 p-6 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:isEditing?'Editar Banco':'Adicionar Novo Banco'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:newBankName||'Nome do banco'})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-colors duration-200\",\"aria-label\":\"Fechar\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:steps.map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveStep(step.id),className:`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200 ${activeStep===step.id?'bg-blue-600 text-white shadow-lg':activeStep>step.id?'bg-green-500 text-white':'bg-gray-200 text-gray-500 hover:bg-gray-300'}`,children:activeStep>step.id?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5\"}):/*#__PURE__*/_jsx(step.icon,{className:\"h-5 w-5\"})}),index<steps.length-1&&/*#__PURE__*/_jsx(\"div\",{className:`w-12 h-0.5 mx-2 rounded-full ${activeStep>step.id?'bg-green-400':'bg-gray-300'}`})]},step.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:steps[activeStep-1].title})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-6 pb-4\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:renderStepContent()})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-4 border-t border-gray-200 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Passo \",activeStep,\" de \",steps.length]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto\",children:[!isEditing&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:onCancel,className:\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\",disabled:isSubmitting,children:[/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cancelar\"})]}),activeStep>1&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setActiveStep(activeStep-1),className:\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Anterior\"})]}),activeStep<steps.length?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setActiveStep(activeStep+1),className:\"btn-primary w-full sm:w-auto flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pr\\xF3ximo\"}),/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4\"})]}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-success w-full sm:w-auto flex items-center justify-center space-x-2\",disabled:isSubmitting,onClick:()=>handleSubmit({preventDefault:()=>{}}),children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Guardando...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:isEditing?'Atualizar Banco':'Adicionar Banco'})]})})]})]})})]})});};","map":{"version":3,"names":["AlertCircle","Building2","Calculator","CheckCircle","ChevronLeft","ChevronRight","CreditCard","Euro","Save","TrendingUp","X","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BankForm","_ref","bankName","data","onSave","onCancel","isEditing","formData","setFormData","newBankName","setNewBankName","errors","setErrors","isSubmitting","setIsSubmitting","activeStep","setActiveStep","document","body","classList","add","remove","validateForm","newErrors","trim","valor_emprestimo","tempo_emprestimo","taxa_fixa","seguro_vida","seguro_multiriscos","manutencao_conta","premios_entrada","comissoes_iniciais","outros","Object","keys","length","handleSubmit","e","preventDefault","handleInputChange","field","value","prev","handleNumberInputChange","numValue","parseFloat","formatCurrency","Intl","NumberFormat","style","currency","format","formatPercentage","toFixed","calcularPrestacao","capital","taxaAnual","nMeses","taxaMensal","Math","pow","calcularCapitalRestante","capitalInicial","prestacao","capitalRestante","mes","juros","amortizacao","max","obterPrestacaoMapaDivida","gerarMapaDivida","require","debtMap","entry","find","Mês","totalMonthlyCosts","steps","id","title","icon","color","renderStepContent","className","children","type","onChange","target","placeholder","periodo_fixa","euribor","spread","checked","devolucao_spread","htmlFor","amortizacoes","reduce","total","a","valor","onClick","map","step","index","onSubmit","disabled"],"sources":["/home/julio/github/jmbcs/comparador_credito/src/components/BankForm.tsx"],"sourcesContent":["import { AlertCircle, Building2, Calculator, CheckCircle, ChevronLeft, ChevronRight, CreditCard, Euro, Save, TrendingUp, X } from 'lucide-react';\nimport React, { useEffect, useState } from 'react';\nimport { BankData } from '../types';\n\ninterface BankFormProps {\n    bankName: string;\n    data: BankData;\n    onSave: (bankName: string, data: BankData) => void;\n    onCancel: () => void;\n    isEditing: boolean;\n}\n\nexport const BankForm: React.FC<BankFormProps> = ({ bankName, data, onSave, onCancel, isEditing }) => {\n    const [formData, setFormData] = useState<BankData>(data);\n    const [newBankName, setNewBankName] = useState(isEditing ? bankName : '');\n    const [errors, setErrors] = useState<Record<string, string>>({});\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [activeStep, setActiveStep] = useState(1);\n\n    // No useEffect needed - the component will be recreated with the key prop\n\n    // Bloquear scroll do body quando o modal estiver aberto\n    useEffect(() => {\n        document.body.classList.add('scroll-locked');\n\n        return () => {\n            document.body.classList.remove('scroll-locked');\n        };\n    }, []);\n\n    const validateForm = (): boolean => {\n        const newErrors: Record<string, string> = {};\n\n        if (!newBankName.trim()) {\n            newErrors.bankName = 'Nome do banco é obrigatório';\n        }\n\n        if (formData.valor_emprestimo <= 0) {\n            newErrors.valor_emprestimo = 'Valor do empréstimo deve ser maior que 0';\n        }\n\n        if (formData.tempo_emprestimo <= 0) {\n            newErrors.tempo_emprestimo = 'Tempo do empréstimo deve ser maior que 0';\n        }\n\n        if (formData.taxa_fixa <= 0) {\n            newErrors.taxa_fixa = 'Taxa fixa deve ser maior que 0';\n        }\n\n        if (formData.seguro_vida < 0) {\n            newErrors.seguro_vida = 'Seguro de vida não pode ser negativo';\n        }\n\n        if (formData.seguro_multiriscos < 0) {\n            newErrors.seguro_multiriscos = 'Seguro multiriscos não pode ser negativo';\n        }\n\n        if (formData.manutencao_conta < 0) {\n            newErrors.manutencao_conta = 'Manutenção de conta não pode ser negativa';\n        }\n\n        if (formData.premios_entrada < 0) {\n            newErrors.premios_entrada = 'Prémios de entrada não podem ser negativos';\n        }\n\n        if (formData.comissoes_iniciais < 0) {\n            newErrors.comissoes_iniciais = 'Comissões iniciais não podem ser negativas';\n        }\n\n        if (formData.outros < 0) {\n            newErrors.outros = 'Outros custos não podem ser negativos';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!validateForm()) {\n            return;\n        }\n\n        setIsSubmitting(true);\n\n        try {\n            await onSave(newBankName, formData);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleInputChange = (field: keyof BankData, value: number | boolean | any) => {\n        setFormData(prev => ({ ...prev, [field]: value }));\n        if (errors[field]) {\n            setErrors(prev => ({ ...prev, [field]: '' }));\n        }\n    };\n\n    const handleNumberInputChange = (field: keyof BankData, value: string) => {\n        const numValue = value === '' ? 0 : parseFloat(value) || 0;\n        handleInputChange(field, numValue);\n    };\n\n    const formatCurrency = (value: number) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const formatPercentage = (value: number) => {\n        return `${value.toFixed(3)}%`;\n    };\n\n    // Função para calcular prestação mensal\n    const calcularPrestacao = (capital: number, taxaAnual: number, nMeses: number): number => {\n        if (taxaAnual === 0 || nMeses === 0) return 0;\n        const taxaMensal = taxaAnual / 12 / 100;\n        return (capital * taxaMensal * Math.pow(1 + taxaMensal, nMeses)) / (Math.pow(1 + taxaMensal, nMeses) - 1);\n    };\n\n    // Função para calcular capital em dívida após período fixo\n    const calcularCapitalRestante = (capitalInicial: number, taxaAnual: number, nMeses: number): number => {\n        if (taxaAnual === 0 || nMeses === 0) return capitalInicial;\n\n        const taxaMensal = taxaAnual / 12 / 100;\n        const prestacao = calcularPrestacao(capitalInicial, taxaAnual, formData.tempo_emprestimo * 12);\n\n        // Calcular capital restante após nMeses de pagamentos\n        let capitalRestante = capitalInicial;\n        for (let mes = 1; mes <= nMeses; mes++) {\n            const juros = capitalRestante * taxaMensal;\n            const amortizacao = prestacao - juros;\n            capitalRestante = capitalRestante - amortizacao;\n        }\n\n        return Math.max(0, capitalRestante);\n    };\n\n    // Função para obter prestação usando mapa de dívida\n    const obterPrestacaoMapaDivida = (data: BankData, mes: number): number => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n        const entry = debtMap.find((entry: any) => entry.Mês === mes);\n        return entry ? entry[\"Prestação (€)\"] : 0;\n    };\n\n    const totalMonthlyCosts = formData.seguro_vida + formData.seguro_multiriscos + formData.manutencao_conta + formData.outros;\n\n    const steps = [\n        { id: 1, title: 'Informações Básicas', icon: Building2, color: 'blue' },\n        { id: 2, title: 'Taxas e Custos', icon: Calculator, color: 'green' },\n        { id: 3, title: 'Outflow Inicial', icon: CreditCard, color: 'purple' },\n        { id: 4, title: 'Resumo', icon: CheckCircle, color: 'emerald' }\n    ];\n\n    const renderStepContent = () => {\n        switch (activeStep) {\n            case 1:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                    <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Informações Básicas</h3>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Nome do Banco *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={newBankName}\n                                        onChange={(e) => {\n                                            setNewBankName(e.target.value);\n                                            if (errors.bankName) setErrors(prev => ({ ...prev, bankName: '' }));\n                                        }}\n                                        className={`input ${errors.bankName ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: Banco de Portugal\"\n                                    />\n                                    {errors.bankName && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.bankName}</span>\n                                        </p>\n                                    )}\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Valor do Empréstimo (€) *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={formData.valor_emprestimo || ''}\n                                        onChange={(e) => handleNumberInputChange('valor_emprestimo', e.target.value)}\n                                        className={`input ${errors.valor_emprestimo ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: 200000\"\n                                    />\n                                    {errors.valor_emprestimo && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.valor_emprestimo}</span>\n                                        </p>\n                                    )}\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">\n                                        Prazo (anos) *\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        value={formData.tempo_emprestimo || ''}\n                                        onChange={(e) => handleNumberInputChange('tempo_emprestimo', e.target.value)}\n                                        className={`input ${errors.tempo_emprestimo ? 'input-error' : ''}`}\n                                        placeholder=\"Ex: 30\"\n                                    />\n                                    {errors.tempo_emprestimo && (\n                                        <p className=\"form-error\">\n                                            <AlertCircle className=\"h-4 w-4\" />\n                                            <span>{errors.tempo_emprestimo}</span>\n                                        </p>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 2:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-green-100 rounded-lg\">\n                                    <Calculator className=\"h-5 w-5 text-green-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Taxas e Custos Mensais</h3>\n                            </div>\n\n                            <div className=\"space-y-6\">\n                                {/* Taxas */}\n                                <div className=\"space-y-4\">\n                                    <h4 className=\"font-semibold text-gray-800 text-base\">Taxas</h4>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Taxa Fixa (%) *\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.taxa_fixa || ''}\n                                                onChange={(e) => handleNumberInputChange('taxa_fixa', e.target.value)}\n                                                className={`input ${errors.taxa_fixa ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 3.5\"\n                                            />\n                                            {errors.taxa_fixa && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.taxa_fixa}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Período Fixo (anos)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.periodo_fixa || ''}\n                                                onChange={(e) => handleNumberInputChange('periodo_fixa', e.target.value)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 2\"\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Euribor (%)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.euribor || ''}\n                                                onChange={(e) => handleNumberInputChange('euribor', e.target.value)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 2.081\"\n                                            />\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Spread (%)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.spread || ''}\n                                                onChange={(e) => handleNumberInputChange('spread', e.target.value)}\n                                                className=\"input\"\n                                                placeholder=\"Ex: 0.5\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Custos Mensais */}\n                                <div className=\"space-y-4\">\n                                    <h4 className=\"font-semibold text-gray-800 text-base\">Custos Mensais</h4>\n\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Seguro de Vida (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.seguro_vida || ''}\n                                                onChange={(e) => handleNumberInputChange('seguro_vida', e.target.value)}\n                                                className={`input ${errors.seguro_vida ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 5.00\"\n                                            />\n                                            {errors.seguro_vida && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.seguro_vida}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Seguro Multirriscos (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.seguro_multiriscos || ''}\n                                                onChange={(e) => handleNumberInputChange('seguro_multiriscos', e.target.value)}\n                                                className={`input ${errors.seguro_multiriscos ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 3.50\"\n                                            />\n                                            {errors.seguro_multiriscos && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.seguro_multiriscos}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Manutenção de Conta (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.manutencao_conta || ''}\n                                                onChange={(e) => handleNumberInputChange('manutencao_conta', e.target.value)}\n                                                className={`input ${errors.manutencao_conta ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 10.00\"\n                                            />\n                                            {errors.manutencao_conta && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.manutencao_conta}</span>\n                                                </p>\n                                            )}\n                                        </div>\n\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">\n                                                Outros Custos (€/mês)\n                                            </label>\n                                            <input\n                                                type=\"text\"\n                                                value={formData.outros || ''}\n                                                onChange={(e) => handleNumberInputChange('outros', e.target.value)}\n                                                className={`input ${errors.outros ? 'input-error' : ''}`}\n                                                placeholder=\"Ex: 5.00\"\n                                            />\n                                            {errors.outros && (\n                                                <p className=\"form-error\">\n                                                    <AlertCircle className=\"h-4 w-4\" />\n                                                    <span>{errors.outros}</span>\n                                                </p>\n                                            )}\n                                        </div>\n                                    </div>\n\n                                    <div className=\"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                                        <input\n                                            type=\"checkbox\"\n                                            id=\"devolucao_spread\"\n                                            checked={formData.devolucao_spread}\n                                            onChange={(e) => handleInputChange('devolucao_spread', e.target.checked)}\n                                            className=\"rounded border-gray-300 text-green-600 focus:ring-green-500 h-5 w-5\"\n                                        />\n                                        <label htmlFor=\"devolucao_spread\" className=\"text-sm font-medium text-gray-700\">\n                                            Devolução do Spread\n                                        </label>\n                                    </div>\n                                </div>\n\n                                {/* Resumo dos Custos Mensais */}\n                                <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\n                                    <div className=\"flex justify-between items-center\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Total Custos Mensais:</span>\n                                        <span className=\"font-semibold text-lg text-green-700\">{formatCurrency(totalMonthlyCosts)}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 3:\n                return (\n                    <div className=\"space-y-6\">\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-purple-100 rounded-lg\">\n                                    <CreditCard className=\"h-5 w-5 text-purple-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Outflow Inicial</h3>\n                            </div>\n\n                            <div className=\"space-y-5\">\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">\n                                            Prémios de Entrada (€)\n                                        </label>\n                                        <input\n                                            type=\"text\"\n                                            value={formData.premios_entrada || ''}\n                                            onChange={(e) => handleNumberInputChange('premios_entrada', e.target.value)}\n                                            className={`input ${errors.premios_entrada ? 'input-error' : ''}`}\n                                            placeholder=\"Ex: 200.00\"\n                                        />\n                                        {errors.premios_entrada && (\n                                            <p className=\"form-error\">\n                                                <AlertCircle className=\"h-4 w-4\" />\n                                                <span>{errors.premios_entrada}</span>\n                                            </p>\n                                        )}\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">\n                                            Comissões Iniciais (€)\n                                        </label>\n                                        <input\n                                            type=\"text\"\n                                            value={formData.comissoes_iniciais || ''}\n                                            onChange={(e) => handleNumberInputChange('comissoes_iniciais', e.target.value)}\n                                            className={`input ${errors.comissoes_iniciais ? 'input-error' : ''}`}\n                                            placeholder=\"Ex: 300.00\"\n                                        />\n                                        {errors.comissoes_iniciais && (\n                                            <p className=\"form-error\">\n                                                <AlertCircle className=\"h-4 w-4\" />\n                                                <span>{errors.comissoes_iniciais}</span>\n                                            </p>\n                                        )}\n                                    </div>\n                                </div>\n\n                                {/* Resumo dos Custos Iniciais */}\n                                <div className=\"space-y-3\">\n                                    <div className=\"flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Prémios de Entrada:</span>\n                                        <span className=\"font-semibold text-green-700\">+{formatCurrency(formData.premios_entrada)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Comissões Iniciais:</span>\n                                        <span className=\"font-semibold text-red-700\">-{formatCurrency(formData.comissoes_iniciais)}</span>\n                                    </div>\n                                    <div className=\"flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                                        <span className=\"text-sm font-medium text-gray-700\">Saldo Inicial:</span>\n                                        <span className={`font-semibold text-lg ${formData.premios_entrada >= formData.comissoes_iniciais ? 'text-green-700' : 'text-red-700'}`}>\n                                            {formData.premios_entrada >= formData.comissoes_iniciais ? '+' : ''}\n                                            {formatCurrency(formData.premios_entrada - formData.comissoes_iniciais)}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            case 4:\n                return (\n                    <div className=\"space-y-6\">\n                        {/* Hidden input to ensure form submission works */}\n                        <input type=\"hidden\" value=\"summary\" />\n                        <div className=\"bg-white rounded-xl border border-gray-200 p-6\">\n                            <div className=\"flex items-center space-x-3 mb-6\">\n                                <div className=\"p-2 bg-emerald-100 rounded-lg\">\n                                    <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\n                                </div>\n                                <h3 className=\"text-lg font-semibold text-gray-900\">Resumo da Proposta</h3>\n                            </div>\n\n                            {/* Informações Principais */}\n                            <div className=\"data-grid mb-6\">\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Valor do Empréstimo</div>\n                                    <div className=\"data-value\">{formatCurrency(formData.valor_emprestimo)}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Prazo Total</div>\n                                    <div className=\"data-value\">{formData.tempo_emprestimo} anos</div>\n                                    <div className=\"text-xs text-gray-500\">({formData.tempo_emprestimo * 12} meses)</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Taxa Fixa</div>\n                                    <div className=\"data-value\">{formatPercentage(formData.taxa_fixa)}</div>\n                                    <div className=\"text-xs text-gray-500\">Período: {formData.periodo_fixa} anos</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Custos Mensais</div>\n                                    <div className=\"data-value\">{formatCurrency(totalMonthlyCosts)}</div>\n                                </div>\n                            </div>\n\n                            {/* Taxas e Spread */}\n                            <div className=\"data-grid mb-6\">\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Euribor</div>\n                                    <div className=\"data-value\">{formatPercentage(formData.euribor)}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Spread</div>\n                                    <div className=\"data-value\">{formatPercentage(formData.spread)}</div>\n                                </div>\n\n                                <div className=\"data-item\">\n                                    <div className=\"data-label\">Devolução Spread</div>\n                                    <div className=\"data-value\">\n                                        {formData.devolucao_spread ? 'Sim' : 'Não'}\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Prestações por Período */}\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n                                {/* Prestação Período Fixo */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <Calculator className=\"h-4 w-4 text-blue-600\" />\n                                        <span>Prestação Período Fixo</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Taxa Aplicada:</span>\n                                            <span className=\"font-medium text-blue-700\">{formatPercentage(formData.taxa_fixa)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Duração:</span>\n                                            <span className=\"font-medium\">{formData.periodo_fixa} anos</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prestação Mensal:</span>\n                                            <span className=\"font-semibold text-lg text-blue-700\">\n                                                {formatCurrency(obterPrestacaoMapaDivida(formData, 1))}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Total com Custos:</span>\n                                            <span className=\"font-semibold text-lg text-blue-700\">\n                                                {formatCurrency(obterPrestacaoMapaDivida(formData, 1) + totalMonthlyCosts)}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Capital em Dívida (após {formData.periodo_fixa} anos):</span>\n                                            <span className=\"font-medium text-blue-600\">\n                                                {formatCurrency(calcularCapitalRestante(formData.valor_emprestimo, formData.taxa_fixa, formData.periodo_fixa * 12))}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Prestação Período Variável */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <TrendingUp className=\"h-4 w-4 text-purple-600\" />\n                                        <span>Prestação Período Variável</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Taxa Aplicada:</span>\n                                            <span className=\"font-medium text-purple-700\">{formatPercentage(formData.euribor + formData.spread)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Duração:</span>\n                                            <span className=\"font-medium\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    `${formData.tempo_emprestimo - formData.periodo_fixa} anos`\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prestação Mensal:</span>\n                                            <span className=\"font-semibold text-lg text-purple-700\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(obterPrestacaoMapaDivida(formData, formData.periodo_fixa * 12 + 1))\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Total com Custos:</span>\n                                            <span className=\"font-semibold text-lg text-purple-700\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(obterPrestacaoMapaDivida(formData, formData.periodo_fixa * 12 + 1) + totalMonthlyCosts)\n                                                }\n                                            </span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Capital em Dívida (início período variável):</span>\n                                            <span className=\"font-medium text-purple-600\">\n                                                {formData.periodo_fixa >= formData.tempo_emprestimo ?\n                                                    'N/A (apenas período fixo)' :\n                                                    formatCurrency(calcularCapitalRestante(formData.valor_emprestimo, formData.taxa_fixa, formData.periodo_fixa * 12))\n                                                }\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Custos Detalhados */}\n                            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n                                {/* Custos Mensais Detalhados */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <CreditCard className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Custos Mensais Detalhados</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Seguro de Vida:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.seguro_vida)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Seguro Multirriscos:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.seguro_multiriscos)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Manutenção de Conta:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.manutencao_conta)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Outros Custos:</span>\n                                            <span className=\"font-medium\">{formatCurrency(formData.outros)}</span>\n                                        </div>\n                                        <div className=\"border-t pt-2 flex justify-between font-semibold text-emerald-700\">\n                                            <span>Total Mensal:</span>\n                                            <span>{formatCurrency(totalMonthlyCosts)}</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Custos Iniciais */}\n                                <div className=\"data-card\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <Euro className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Outflow Inicial</span>\n                                    </h4>\n                                    <div className=\"space-y-2\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Prémios de Entrada:</span>\n                                            <span className=\"font-medium text-green-700\">+{formatCurrency(formData.premios_entrada)}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-sm text-gray-600\">Comissões Iniciais:</span>\n                                            <span className=\"font-medium text-orange-700\">-{formatCurrency(formData.comissoes_iniciais)}</span>\n                                        </div>\n                                        <div className=\"border-t pt-2 flex justify-between font-semibold\">\n                                            <span>Saldo Inicial:</span>\n                                            <span className={`${formData.premios_entrada >= formData.comissoes_iniciais ? 'text-green-700' : 'text-red-700'}`}>\n                                                {formData.premios_entrada >= formData.comissoes_iniciais ? '+' : ''}\n                                                {formatCurrency(formData.premios_entrada - formData.comissoes_iniciais)}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Amortizações Antecipadas */}\n                            {(formData.amortizacoes && formData.amortizacoes.length > 0) && (\n                                <div className=\"data-card mb-6\">\n                                    <h4 className=\"font-semibold text-gray-800 mb-3 flex items-center space-x-2\">\n                                        <TrendingUp className=\"h-4 w-4 text-emerald-600\" />\n                                        <span>Amortizações Antecipadas</span>\n                                    </h4>\n                                    <div className=\"data-grid\">\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Total Amortizações</div>\n                                            <div className=\"data-value\">\n                                                {formatCurrency(formData.amortizacoes.reduce((total, a) => total + a.valor, 0))}\n                                            </div>\n                                        </div>\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Número de Amortizações</div>\n                                            <div className=\"data-value\">\n                                                {formData.amortizacoes.length}\n                                            </div>\n                                        </div>\n                                        <div className=\"data-item\">\n                                            <div className=\"data-label\">Média por Amortização</div>\n                                            <div className=\"data-value\">\n                                                {formatCurrency(formData.amortizacoes.reduce((total, a) => total + a.valor, 0) / formData.amortizacoes.length)}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n\n                            {/* Resumo Final */}\n                            <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n                                <h4 className=\"font-semibold text-blue-900 mb-3 flex items-center space-x-2\">\n                                    <CheckCircle className=\"h-4 w-4 text-blue-600\" />\n                                    <span>Resumo Final da Proposta</span>\n                                </h4>\n                                <div className=\"data-grid text-sm\">\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Valor Total</div>\n                                        <div className=\"data-value\">{formatCurrency(formData.valor_emprestimo)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Custos Anuais</div>\n                                        <div className=\"data-value\">{formatCurrency(totalMonthlyCosts * 12)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Custos Iniciais</div>\n                                        <div className=\"data-value\">{formatCurrency(formData.comissoes_iniciais)}</div>\n                                    </div>\n                                    <div className=\"data-item\">\n                                        <div className=\"data-label\">Prémios de Entrada</div>\n                                        <div className=\"data-value\">{formatCurrency(formData.premios_entrada)}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n\n            default:\n                return null;\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] flex flex-col\">\n                {/* Header */}\n                <div className=\"flex-shrink-0 p-6 border-b border-gray-200\">\n                    <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-3\">\n                            <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                <Building2 className=\"h-6 w-6 text-blue-600\" />\n                            </div>\n                            <div>\n                                <h2 className=\"text-xl font-semibold text-gray-900\">\n                                    {isEditing ? 'Editar Banco' : 'Adicionar Novo Banco'}\n                                </h2>\n                                <p className=\"text-sm text-gray-600 mt-1\">\n                                    {newBankName || 'Nome do banco'}\n                                </p>\n                            </div>\n                        </div>\n                        <button\n                            onClick={onCancel}\n                            className=\"p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-xl transition-colors duration-200\"\n                            aria-label=\"Fechar\"\n                        >\n                            <X className=\"h-6 w-6\" />\n                        </button>\n                    </div>\n\n                    {/* Progress Steps */}\n                    <div className=\"mt-6\">\n                        <div className=\"flex items-center justify-center\">\n                            <div className=\"flex items-center space-x-2\">\n                                {steps.map((step, index) => (\n                                    <div key={step.id} className=\"flex items-center\">\n                                        <button\n                                            onClick={() => setActiveStep(step.id)}\n                                            className={`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200 ${activeStep === step.id\n                                                ? 'bg-blue-600 text-white shadow-lg'\n                                                : activeStep > step.id\n                                                    ? 'bg-green-500 text-white'\n                                                    : 'bg-gray-200 text-gray-500 hover:bg-gray-300'\n                                                }`}\n                                        >\n                                            {activeStep > step.id ? (\n                                                <CheckCircle className=\"h-5 w-5\" />\n                                            ) : (\n                                                <step.icon className=\"h-5 w-5\" />\n                                            )}\n                                        </button>\n                                        {index < steps.length - 1 && (\n                                            <div className={`w-12 h-0.5 mx-2 rounded-full ${activeStep > step.id ? 'bg-green-400' : 'bg-gray-300'\n                                                }`} />\n                                        )}\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                        <div className=\"mt-3 text-center\">\n                            <span className=\"text-sm font-medium text-gray-700\">\n                                {steps[activeStep - 1].title}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Content */}\n                <div className=\"flex-1 overflow-y-auto p-6 pb-4\">\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\n                        {renderStepContent()}\n                    </form>\n                </div>\n\n                {/* Footer */}\n                <div className=\"flex-shrink-0 p-4 border-t border-gray-200 bg-gray-50\">\n                    <div className=\"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n                        <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                            <span>Passo {activeStep} de {steps.length}</span>\n                        </div>\n\n                        <div className=\"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto\">\n                            {!isEditing && (\n                                <button\n                                    type=\"button\"\n                                    onClick={onCancel}\n                                    className=\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                    disabled={isSubmitting}\n                                >\n                                    <X className=\"h-4 w-4\" />\n                                    <span>Cancelar</span>\n                                </button>\n                            )}\n\n                            {activeStep > 1 && (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setActiveStep(activeStep - 1)}\n                                    className=\"btn-secondary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                >\n                                    <ChevronLeft className=\"h-4 w-4\" />\n                                    <span>Anterior</span>\n                                </button>\n                            )}\n\n                            {activeStep < steps.length ? (\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setActiveStep(activeStep + 1)}\n                                    className=\"btn-primary w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                >\n                                    <span>Próximo</span>\n                                    <ChevronRight className=\"h-4 w-4\" />\n                                </button>\n                            ) : (\n                                <button\n                                    type=\"button\"\n                                    className=\"btn-success w-full sm:w-auto flex items-center justify-center space-x-2\"\n                                    disabled={isSubmitting}\n                                    onClick={() => handleSubmit({ preventDefault: () => { } } as any)}\n                                >\n                                    {isSubmitting ? (\n                                        <>\n                                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                                            <span>Guardando...</span>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <Save className=\"h-4 w-4\" />\n                                            <span>{isEditing ? 'Atualizar Banco' : 'Adicionar Banco'}</span>\n                                        </>\n                                    )}\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}