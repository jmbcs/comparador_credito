{"ast":null,"code":"import{Building2,Calendar,ChevronDown,ChevronRight,ChevronUp,DollarSign,TrendingUp}from'lucide-react';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const ProposalComparisonTable=_ref=>{let{banksData}=_ref;const[selectedBank,setSelectedBank]=useState(null);const[expandedBanks,setExpandedBanks]=useState(new Set());const toggleAllBanks=expand=>{if(expand){setExpandedBanks(new Set(Object.keys(banksData)));}else{setExpandedBanks(new Set());}};const toggleBankExpansion=bankName=>{const newExpandedBanks=new Set(expandedBanks);if(newExpandedBanks.has(bankName)){newExpandedBanks.delete(bankName);}else{newExpandedBanks.add(bankName);}setExpandedBanks(newExpandedBanks);};const formatCurrency=value=>{return new Intl.NumberFormat('pt-PT',{style:'currency',currency:'EUR'}).format(value);};const formatPercentage=value=>{return`${value.toFixed(2)}%`;};// Calculate monthly payment for fixed rate using debt map\nconst calculateFixedPayment=data=>{const{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get the first month payment (fixed rate period)\nif(debtMap.length>0){return debtMap[0][\"Prestação (€)\"];}// Fallback calculation if debt map is empty\nconst monthlyRate=data.taxa_fixa/100/12;const totalPayments=data.tempo_emprestimo*12;if(monthlyRate===0)return data.valor_emprestimo/totalPayments;const payment=data.valor_emprestimo*(monthlyRate*Math.pow(1+monthlyRate,totalPayments))/(Math.pow(1+monthlyRate,totalPayments)-1);return payment;};// Calculate monthly payment for variable rate using debt map\nconst calculateVariablePayment=data=>{const{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get the first month of variable rate period\nconst firstVariableMonth=data.periodo_fixa*12+1;const variableRateEntry=debtMap.find(entry=>entry.Mês===firstVariableMonth);if(variableRateEntry){return variableRateEntry[\"Prestação (€)\"];}// Fallback calculation if debt map doesn't have variable period\nconst monthlyRate=(data.euribor+data.spread)/100/12;const totalPayments=data.tempo_emprestimo*12;if(monthlyRate===0)return data.valor_emprestimo/totalPayments;const payment=data.valor_emprestimo*(monthlyRate*Math.pow(1+monthlyRate,totalPayments))/(Math.pow(1+monthlyRate,totalPayments)-1);return payment;};// Calculate total monthly costs\nconst calculateTotalMonthlyCosts=data=>{return data.seguro_vida+data.seguro_multiriscos+data.manutencao_conta+data.outros;};// Calculate spread refund total (only during fixed rate period, considering debt capital)\nconst calculateSpreadRefund=data=>{if(!data.devolucao_spread)return 0;// Calculate average debt capital during fixed rate period\nconst{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get debt capital for each month during fixed rate period\nconst fixedPeriodMonths=data.periodo_fixa*12;const fixedPeriodData=debtMap.slice(0,fixedPeriodMonths);if(fixedPeriodData.length===0)return 0;// Calculate average debt capital during fixed period\nconst totalDebtCapital=fixedPeriodData.reduce((sum,entry)=>{return sum+entry[\"Capital em Dívida (€)\"];},0);const averageDebtCapital=totalDebtCapital/fixedPeriodData.length;// Calculate total spread refund based on average debt capital\nconst monthlySpreadRefund=averageDebtCapital*(data.spread/100)/12;const totalRefund=monthlySpreadRefund*data.periodo_fixa*12;return totalRefund;};const bankNames=Object.keys(banksData);if(bankNames.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-icon\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"empty-state-title\",children:\"Nenhum banco configurado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-state-description\",children:\"Adicione bancos para comparar propostas\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 lg:hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleAllBanks(expandedBanks.size===0),className:\"flex items-center space-x-1 px-3 py-1.5 bg-white rounded-lg border border-gray-200 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors\",children:expandedBanks.size===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronDown,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Expandir\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Colapsar\"})]})})}),bankNames.map(bankName=>{const data=banksData[bankName];const totalMonthly=calculateTotalMonthlyCosts(data);const totalInitial=data.premios_entrada-data.comissoes_iniciais+calculateSpreadRefund(data);const isExpanded=expandedBanks.has(bankName);return/*#__PURE__*/_jsxs(\"div\",{className:\"card card-hover\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"expandable-header\",onClick:()=>toggleBankExpansion(bankName),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:bankName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Clique para ver detalhes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Presta\\xE7\\xE3o Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:formatCurrency(calculateFixedPayment(data))})]}),/*#__PURE__*/_jsx(ChevronRight,{className:`h-5 w-5 text-gray-400 transition-transform duration-200 ${isExpanded?'rotate-90':''}`})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:`expandable-content ${isExpanded?'expandable-content-expanded':'expandable-content-collapsed'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 pb-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-blue-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Taxas e Presta\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Taxa Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(data.taxa_fixa)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(data.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Presta\\xE7\\xE3o Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(calculateFixedPayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item bg-blue-50 border-l-4 border-blue-400 rounded-r-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label text-blue-900 font-semibold\",children:\"Total Fixa + Custos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value text-blue-700 font-bold text-lg\",children:formatCurrency(calculateFixedPayment(data)+calculateTotalMonthlyCosts(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(calculateVariablePayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item bg-purple-50 border-l-4 border-purple-400 rounded-r-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label text-purple-900 font-semibold\",children:\"Total Vari\\xE1vel + Custos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value text-purple-700 font-bold text-lg\",children:formatCurrency(calculateVariablePayment(data)+calculateTotalMonthlyCosts(data))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-green-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Pr\\xE9mios\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[\"+\",formatCurrency(data.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Comiss\\xF5es\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-600\",children:[\"-\",formatCurrency(data.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Devolu\\xE7\\xE3o Spread\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600\",children:[data.devolucao_spread?'+':'',formatCurrency(calculateSpreadRefund(data))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 rounded-lg p-3 border border-green-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-green-900\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-semibold text-lg ${totalInitial>=0?'text-green-600':'text-red-600'}`,children:[totalInitial>=0?'+':'',formatCurrency(totalInitial)]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Vida\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.seguro_vida)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Seguro Multiriscos\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.seguro_multiriscos)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Manuten\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.manutencao_conta)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 rounded-lg p-3 border border-red-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-red-900\",children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg text-red-600\",children:formatCurrency(totalMonthly)})]})})]})]})]})})]},bankName);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"responsive-table rounded-lg shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-blue-900 text-lg\",children:\"Compara\\xE7\\xE3o de Propostas\"})]})}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"th\",{className:\"text-center p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center shadow-sm\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-gray-800 text-base\",children:bankName})]})},bankName))]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-bold text-blue-900 p-4\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"Taxas e Presta\\xE7\\xF5es\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Taxa Fixa (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 p-4\",children:formatPercentage(banksData[bankName].taxa_fixa)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Per\\xEDodo Fixo (anos)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 p-4\",children:banksData[bankName].periodo_fixa},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Spread (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900 p-4\",children:formatPercentage(banksData[bankName].spread)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Euribor (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900 p-4\",children:formatPercentage(banksData[bankName].euribor)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 py-3\",children:\"Presta\\xE7\\xE3o Fixa (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 py-3\",children:formatCurrency(calculateFixedPayment(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-blue-50 border-l-4 border-blue-400\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-blue-900 py-3 pl-4\",children:\"Total Fixa + Custos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-bold text-blue-700 py-3 text-lg\",children:formatCurrency(calculateFixedPayment(banksData[bankName])+calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 py-3\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 py-3\",children:formatCurrency(calculateVariablePayment(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-purple-50 border-l-4 border-purple-400\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-purple-900 py-3 pl-4\",children:\"Total Vari\\xE1vel + Custos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-bold text-purple-700 py-3 text-lg\",children:formatCurrency(calculateVariablePayment(banksData[bankName])+calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsx(\"tr\",{className:\"bg-green-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-green-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Pr\\xE9mios (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-green-600\",children:[\"+\",formatCurrency(banksData[bankName].premios_entrada)]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Comiss\\xF5es (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-red-600\",children:[\"-\",formatCurrency(banksData[bankName].comissoes_iniciais)]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Devolu\\xE7\\xE3o Spread (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-green-600\",children:[banksData[bankName].devolucao_spread?'+':'',formatCurrency(calculateSpreadRefund(banksData[bankName]))]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-green-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-green-700\",children:\"Total Outflow Inicial (\\u20AC)\"}),bankNames.map(bankName=>{const totalInitialCosts=banksData[bankName].premios_entrada-banksData[bankName].comissoes_iniciais+calculateSpreadRefund(banksData[bankName]);const isPositive=totalInitialCosts>=0;return/*#__PURE__*/_jsxs(\"td\",{className:`text-center font-semibold ${isPositive?'text-green-600':'text-red-600'}`,children:[isPositive?'+':'',formatCurrency(totalInitialCosts)]},bankName);})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"bg-purple-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-purple-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Seguro Vida (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].seguro_vida)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Seguro Multiriscos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].seguro_multiriscos)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Manuten\\xE7\\xE3o Conta (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].manutencao_conta)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Outros (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].outros)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-red-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-red-700\",children:\"Total Custos Mensais (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-red-600\",children:formatCurrency(calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]})]})]})})})})]});};","map":{"version":3,"names":["Building2","Calendar","ChevronDown","ChevronRight","ChevronUp","DollarSign","TrendingUp","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProposalComparisonTable","_ref","banksData","selectedBank","setSelectedBank","expandedBanks","setExpandedBanks","Set","toggleAllBanks","expand","Object","keys","toggleBankExpansion","bankName","newExpandedBanks","has","delete","add","formatCurrency","value","Intl","NumberFormat","style","currency","format","formatPercentage","toFixed","calculateFixedPayment","data","gerarMapaDivida","require","debtMap","length","monthlyRate","taxa_fixa","totalPayments","tempo_emprestimo","valor_emprestimo","payment","Math","pow","calculateVariablePayment","firstVariableMonth","periodo_fixa","variableRateEntry","find","entry","Mês","euribor","spread","calculateTotalMonthlyCosts","seguro_vida","seguro_multiriscos","manutencao_conta","outros","calculateSpreadRefund","devolucao_spread","fixedPeriodMonths","fixedPeriodData","slice","totalDebtCapital","reduce","sum","averageDebtCapital","monthlySpreadRefund","totalRefund","bankNames","className","children","onClick","size","map","totalMonthly","totalInitial","premios_entrada","comissoes_iniciais","isExpanded","colSpan","totalInitialCosts","isPositive"],"sources":["/home/julio/github/jmbcs/comparador_credito/src/components/ProposalComparisonTable.tsx"],"sourcesContent":["import { Building2, Calendar, ChevronDown, ChevronRight, ChevronUp, DollarSign, TrendingUp } from 'lucide-react';\nimport { useState } from 'react';\nimport { BankData } from '../types';\n\ninterface ProposalComparisonTableProps {\n    banksData: { [key: string]: BankData };\n}\n\nexport const ProposalComparisonTable = ({ banksData }: ProposalComparisonTableProps) => {\n    const [selectedBank, setSelectedBank] = useState<string | null>(null);\n    const [expandedBanks, setExpandedBanks] = useState<Set<string>>(new Set());\n\n    const toggleAllBanks = (expand: boolean) => {\n        if (expand) {\n            setExpandedBanks(new Set(Object.keys(banksData)));\n        } else {\n            setExpandedBanks(new Set());\n        }\n    };\n\n    const toggleBankExpansion = (bankName: string) => {\n        const newExpandedBanks = new Set(expandedBanks);\n        if (newExpandedBanks.has(bankName)) {\n            newExpandedBanks.delete(bankName);\n        } else {\n            newExpandedBanks.add(bankName);\n        }\n        setExpandedBanks(newExpandedBanks);\n    };\n\n    const formatCurrency = (value: number) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const formatPercentage = (value: number) => {\n        return `${value.toFixed(2)}%`;\n    };\n\n    // Calculate monthly payment for fixed rate using debt map\n    const calculateFixedPayment = (data: BankData) => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get the first month payment (fixed rate period)\n        if (debtMap.length > 0) {\n            return debtMap[0][\"Prestação (€)\"];\n        }\n\n        // Fallback calculation if debt map is empty\n        const monthlyRate = data.taxa_fixa / 100 / 12;\n        const totalPayments = data.tempo_emprestimo * 12;\n\n        if (monthlyRate === 0) return data.valor_emprestimo / totalPayments;\n\n        const payment = data.valor_emprestimo *\n            (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) /\n            (Math.pow(1 + monthlyRate, totalPayments) - 1);\n\n        return payment;\n    };\n\n    // Calculate monthly payment for variable rate using debt map\n    const calculateVariablePayment = (data: BankData) => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get the first month of variable rate period\n        const firstVariableMonth = data.periodo_fixa * 12 + 1;\n        const variableRateEntry = debtMap.find((entry: any) => entry.Mês === firstVariableMonth);\n\n        if (variableRateEntry) {\n            return variableRateEntry[\"Prestação (€)\"];\n        }\n\n        // Fallback calculation if debt map doesn't have variable period\n        const monthlyRate = (data.euribor + data.spread) / 100 / 12;\n        const totalPayments = data.tempo_emprestimo * 12;\n\n        if (monthlyRate === 0) return data.valor_emprestimo / totalPayments;\n\n        const payment = data.valor_emprestimo *\n            (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) /\n            (Math.pow(1 + monthlyRate, totalPayments) - 1);\n\n        return payment;\n    };\n\n    // Calculate total monthly costs\n    const calculateTotalMonthlyCosts = (data: BankData) => {\n        return data.seguro_vida + data.seguro_multiriscos + data.manutencao_conta + data.outros;\n    };\n\n    // Calculate spread refund total (only during fixed rate period, considering debt capital)\n    const calculateSpreadRefund = (data: BankData) => {\n        if (!data.devolucao_spread) return 0;\n\n        // Calculate average debt capital during fixed rate period\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get debt capital for each month during fixed rate period\n        const fixedPeriodMonths = data.periodo_fixa * 12;\n        const fixedPeriodData = debtMap.slice(0, fixedPeriodMonths);\n\n        if (fixedPeriodData.length === 0) return 0;\n\n        // Calculate average debt capital during fixed period\n        const totalDebtCapital = fixedPeriodData.reduce((sum: number, entry: any) => {\n            return sum + entry[\"Capital em Dívida (€)\"];\n        }, 0);\n\n        const averageDebtCapital = totalDebtCapital / fixedPeriodData.length;\n\n        // Calculate total spread refund based on average debt capital\n        const monthlySpreadRefund = (averageDebtCapital * (data.spread / 100)) / 12;\n        const totalRefund = monthlySpreadRefund * data.periodo_fixa * 12;\n\n        return totalRefund;\n    };\n\n    const bankNames = Object.keys(banksData);\n\n    if (bankNames.length === 0) {\n        return (\n            <div className=\"empty-state\">\n                <div className=\"empty-state-icon\">\n                    <Building2 className=\"h-8 w-8 text-blue-600\" />\n                </div>\n                <h3 className=\"empty-state-title\">Nenhum banco configurado</h3>\n                <p className=\"empty-state-description\">Adicione bancos para comparar propostas</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Mobile Cards */}\n            <div className=\"space-y-4 lg:hidden\">\n                {/* Expand/Collapse Controls */}\n                <div className=\"flex items-center justify-end\">\n                    <button\n                        onClick={() => toggleAllBanks(expandedBanks.size === 0)}\n                        className=\"flex items-center space-x-1 px-3 py-1.5 bg-white rounded-lg border border-gray-200 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors\"\n                    >\n                        {expandedBanks.size === 0 ? (\n                            <>\n                                <ChevronDown className=\"h-3 w-3\" />\n                                <span>Expandir</span>\n                            </>\n                        ) : (\n                            <>\n                                <ChevronUp className=\"h-3 w-3\" />\n                                <span>Colapsar</span>\n                            </>\n                        )}\n                    </button>\n                </div>\n                {bankNames.map((bankName) => {\n                    const data = banksData[bankName];\n                    const totalMonthly = calculateTotalMonthlyCosts(data);\n                    const totalInitial = data.premios_entrada - data.comissoes_iniciais + calculateSpreadRefund(data);\n                    const isExpanded = expandedBanks.has(bankName);\n\n                    return (\n                        <div key={bankName} className=\"card card-hover\">\n                            {/* Bank Header */}\n                            <div\n                                className=\"expandable-header\"\n                                onClick={() => toggleBankExpansion(bankName)}\n                            >\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center space-x-3\">\n                                        <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                            <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                        </div>\n                                        <div>\n                                            <h3 className=\"font-semibold text-gray-900\">{bankName}</h3>\n                                            <p className=\"text-sm text-gray-500\">Clique para ver detalhes</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"flex items-center space-x-3\">\n                                        <div className=\"text-right\">\n                                            <div className=\"text-sm text-gray-600\">Prestação Fixa</div>\n                                            <div className=\"font-semibold text-gray-900\">{formatCurrency(calculateFixedPayment(data))}</div>\n                                        </div>\n                                        <ChevronRight className={`h-5 w-5 text-gray-400 transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`} />\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Expandable Content */}\n                            <div className={`expandable-content ${isExpanded ? 'expandable-content-expanded' : 'expandable-content-collapsed'}`}>\n                                <div className=\"px-4 pb-4 space-y-4\">\n                                    {/* Rates */}\n                                    <div className=\"bg-blue-50 rounded-lg p-4\">\n                                        <h4 className=\"text-sm font-semibold text-blue-900 mb-3 flex items-center space-x-2\">\n                                            <TrendingUp className=\"h-4 w-4\" />\n                                            <span>Taxas e Prestações</span>\n                                        </h4>\n                                        <div className=\"data-grid\">\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Taxa Fixa</div>\n                                                <div className=\"data-value\">{formatPercentage(data.taxa_fixa)}</div>\n                                            </div>\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Spread</div>\n                                                <div className=\"data-value\">{formatPercentage(data.spread)}</div>\n                                            </div>\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Prestação Fixa</div>\n                                                <div className=\"data-value\">{formatCurrency(calculateFixedPayment(data))}</div>\n                                            </div>\n                                            <div className=\"data-item bg-blue-50 border-l-4 border-blue-400 rounded-r-lg\">\n                                                <div className=\"data-label text-blue-900 font-semibold\">Total Fixa + Custos</div>\n                                                <div className=\"data-value text-blue-700 font-bold text-lg\">{formatCurrency(calculateFixedPayment(data) + calculateTotalMonthlyCosts(data))}</div>\n                                            </div>\n                                            <div className=\"data-item\">\n                                                <div className=\"data-label\">Prestação Variável</div>\n                                                <div className=\"data-value\">{formatCurrency(calculateVariablePayment(data))}</div>\n                                            </div>\n                                            <div className=\"data-item bg-purple-50 border-l-4 border-purple-400 rounded-r-lg\">\n                                                <div className=\"data-label text-purple-900 font-semibold\">Total Variável + Custos</div>\n                                                <div className=\"data-value text-purple-700 font-bold text-lg\">{formatCurrency(calculateVariablePayment(data) + calculateTotalMonthlyCosts(data))}</div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Initial Costs */}\n                                    <div className=\"bg-green-50 rounded-lg p-4\">\n                                        <h4 className=\"text-sm font-semibold text-green-900 mb-3 flex items-center space-x-2\">\n                                            <DollarSign className=\"h-4 w-4\" />\n                                            <span>Outflow Inicial</span>\n                                        </h4>\n                                        <div className=\"space-y-3\">\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Prémios</span>\n                                                <span className=\"font-semibold text-green-600\">+{formatCurrency(data.premios_entrada)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Comissões</span>\n                                                <span className=\"font-semibold text-red-600\">-{formatCurrency(data.comissoes_iniciais)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Devolução Spread</span>\n                                                <span className=\"font-semibold text-green-600\">\n                                                    {data.devolucao_spread ? '+' : ''}{formatCurrency(calculateSpreadRefund(data))}\n                                                </span>\n                                            </div>\n                                            <div className=\"bg-green-100 rounded-lg p-3 border border-green-200\">\n                                                <div className=\"flex justify-between items-center\">\n                                                    <span className=\"text-sm font-semibold text-green-900\">Total</span>\n                                                    <span className={`font-semibold text-lg ${totalInitial >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                                        {totalInitial >= 0 ? '+' : ''}{formatCurrency(totalInitial)}\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Monthly Costs */}\n                                    <div className=\"bg-purple-50 rounded-lg p-4\">\n                                        <h4 className=\"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2\">\n                                            <Calendar className=\"h-4 w-4\" />\n                                            <span>Custos Mensais</span>\n                                        </h4>\n                                        <div className=\"space-y-3\">\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Seguro Vida</span>\n                                                <span className=\"font-semibold text-gray-900\">{formatCurrency(data.seguro_vida)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Seguro Multiriscos</span>\n                                                <span className=\"font-semibold text-gray-900\">{formatCurrency(data.seguro_multiriscos)}</span>\n                                            </div>\n                                            <div className=\"flex justify-between items-center bg-white rounded-lg p-3\">\n                                                <span className=\"text-sm text-gray-600\">Manutenção</span>\n                                                <span className=\"font-semibold text-gray-900\">{formatCurrency(data.manutencao_conta)}</span>\n                                            </div>\n                                            <div className=\"bg-red-100 rounded-lg p-3 border border-red-200\">\n                                                <div className=\"flex justify-between items-center\">\n                                                    <span className=\"text-sm font-semibold text-red-900\">Total</span>\n                                                    <span className=\"font-semibold text-lg text-red-600\">{formatCurrency(totalMonthly)}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n\n            {/* Desktop Table */}\n            <div className=\"hidden lg:block\">\n                <div className=\"table-container\">\n                    <div className=\"responsive-table rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\n                        <table className=\"table bg-white\">\n                            <thead>\n                                <tr className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200\">\n                                    <th className=\"text-left p-6\">\n                                        <div className=\"flex items-center space-x-3\">\n                                            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                                <TrendingUp className=\"h-5 w-5 text-blue-600\" />\n                                            </div>\n                                            <span className=\"font-bold text-blue-900 text-lg\">Comparação de Propostas</span>\n                                        </div>\n                                    </th>\n                                    {bankNames.map(bankName => (\n                                        <th key={bankName} className=\"text-center p-6\">\n                                            <div className=\"flex flex-col items-center justify-center space-y-2\">\n                                                <div className=\"w-12 h-12 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center shadow-sm\">\n                                                    <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                                </div>\n                                                <span className=\"font-bold text-gray-800 text-base\">{bankName}</span>\n                                            </div>\n                                        </th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {/* Taxas */}\n                                <tr className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200\">\n                                    <td className=\"font-bold text-blue-900 p-4\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-3\">\n                                            <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                                <TrendingUp className=\"h-4 w-4 text-blue-600\" />\n                                            </div>\n                                            <span className=\"text-lg\">Taxas e Prestações</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Taxa Fixa (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 p-4\">\n                                            {formatPercentage(banksData[bankName].taxa_fixa)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Período Fixo (anos)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 p-4\">\n                                            {banksData[bankName].periodo_fixa}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Spread (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900 p-4\">\n                                            {formatPercentage(banksData[bankName].spread)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Euribor (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900 p-4\">\n                                            {formatPercentage(banksData[bankName].euribor)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"border-t-2 border-gray-200\">\n                                    <td className=\"font-semibold text-gray-700 py-3\">Prestação Fixa (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 py-3\">\n                                            {formatCurrency(calculateFixedPayment(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-blue-50 border-l-4 border-blue-400\">\n                                    <td className=\"font-semibold text-blue-900 py-3 pl-4\">Total Fixa + Custos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-bold text-blue-700 py-3 text-lg\">\n                                            {formatCurrency(calculateFixedPayment(banksData[bankName]) + calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"border-t-2 border-gray-200\">\n                                    <td className=\"font-semibold text-gray-700 py-3\">Prestação Variável (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 py-3\">\n                                            {formatCurrency(calculateVariablePayment(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-purple-50 border-l-4 border-purple-400\">\n                                    <td className=\"font-semibold text-purple-900 py-3 pl-4\">Total Variável + Custos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-bold text-purple-700 py-3 text-lg\">\n                                            {formatCurrency(calculateVariablePayment(banksData[bankName]) + calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                {/* Outflow Inicial */}\n                                <tr className=\"bg-green-50\">\n                                    <td className=\"font-semibold text-green-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <DollarSign className=\"h-5 w-5\" />\n                                            <span>Outflow Inicial</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Prémios (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-green-600\">\n                                            +{formatCurrency(banksData[bankName].premios_entrada)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Comissões (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-red-600\">\n                                            -{formatCurrency(banksData[bankName].comissoes_iniciais)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Devolução Spread (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-green-600\">\n                                            {banksData[bankName].devolucao_spread ? '+' : ''}{formatCurrency(calculateSpreadRefund(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-green-50\">\n                                    <td className=\"font-semibold text-green-700\">Total Outflow Inicial (€)</td>\n                                    {bankNames.map((bankName) => {\n                                        const totalInitialCosts =\n                                            banksData[bankName].premios_entrada -\n                                            banksData[bankName].comissoes_iniciais +\n                                            calculateSpreadRefund(banksData[bankName]);\n\n                                        const isPositive = totalInitialCosts >= 0;\n\n                                        return (\n                                            <td key={bankName} className={`text-center font-semibold ${isPositive ? 'text-green-600' : 'text-red-600'}`}>\n                                                {isPositive ? '+' : ''}{formatCurrency(totalInitialCosts)}\n                                            </td>\n                                        );\n                                    })}\n                                </tr>\n\n                                {/* Custos Mensais */}\n                                <tr className=\"bg-purple-50\">\n                                    <td className=\"font-semibold text-purple-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <Calendar className=\"h-5 w-5\" />\n                                            <span>Custos Mensais</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Seguro Vida (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].seguro_vida)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Seguro Multiriscos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].seguro_multiriscos)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Manutenção Conta (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].manutencao_conta)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Outros (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].outros)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-red-50\">\n                                    <td className=\"font-semibold text-red-700\">Total Custos Mensais (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-red-600\">\n                                            {formatCurrency(calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}