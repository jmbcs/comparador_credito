{"ast":null,"code":"import{Building2,Calendar,ChevronDown,ChevronRight,ChevronUp,DollarSign,TrendingUp}from'lucide-react';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const ProposalComparisonTable=_ref=>{let{banksData}=_ref;const[selectedBank,setSelectedBank]=useState(null);const[expandedBanks,setExpandedBanks]=useState(new Set());const toggleAllBanks=expand=>{if(expand){setExpandedBanks(new Set(Object.keys(banksData)));}else{setExpandedBanks(new Set());}};const toggleBankExpansion=bankName=>{const newExpandedBanks=new Set(expandedBanks);if(newExpandedBanks.has(bankName)){newExpandedBanks.delete(bankName);}else{newExpandedBanks.add(bankName);}setExpandedBanks(newExpandedBanks);};const formatCurrency=value=>{return new Intl.NumberFormat('pt-PT',{style:'currency',currency:'EUR'}).format(value);};const formatPercentage=value=>{return`${value.toFixed(2)}%`;};// Calculate monthly payment for fixed rate using debt map\nconst calculateFixedPayment=data=>{const{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get the first month payment (fixed rate period)\nif(debtMap.length>0){return debtMap[0][\"Prestação (€)\"];}// Fallback calculation if debt map is empty\nconst monthlyRate=data.taxa_fixa/100/12;const totalPayments=data.tempo_emprestimo*12;if(monthlyRate===0)return data.valor_emprestimo/totalPayments;const payment=data.valor_emprestimo*(monthlyRate*Math.pow(1+monthlyRate,totalPayments))/(Math.pow(1+monthlyRate,totalPayments)-1);return payment;};// Calculate monthly payment for variable rate using debt map\nconst calculateVariablePayment=data=>{const{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get the first month of variable rate period\nconst firstVariableMonth=data.periodo_fixa*12+1;const variableRateEntry=debtMap.find(entry=>entry.Mês===firstVariableMonth);if(variableRateEntry){return variableRateEntry[\"Prestação (€)\"];}// Fallback calculation if debt map doesn't have variable period\nconst monthlyRate=(data.euribor+data.spread)/100/12;const totalPayments=data.tempo_emprestimo*12;if(monthlyRate===0)return data.valor_emprestimo/totalPayments;const payment=data.valor_emprestimo*(monthlyRate*Math.pow(1+monthlyRate,totalPayments))/(Math.pow(1+monthlyRate,totalPayments)-1);return payment;};// Calculate total monthly costs\nconst calculateTotalMonthlyCosts=data=>{return data.seguro_vida+data.seguro_multiriscos+data.manutencao_conta+data.outros;};// Calculate spread refund total (during spread refund period, considering debt capital)\nconst calculateSpreadRefund=data=>{if(!data.devolucao_spread||!data.anos_devolucao_spread)return 0;// Calculate average debt capital during spread refund period\nconst{gerarMapaDivida}=require('../utils/calculations');const debtMap=gerarMapaDivida(data,'temp');// Get debt capital for each month during spread refund period\nconst spreadRefundMonths=data.anos_devolucao_spread*12;const spreadRefundData=debtMap.slice(0,spreadRefundMonths);if(spreadRefundData.length===0)return 0;// Calculate average debt capital during spread refund period\nconst totalDebtCapital=spreadRefundData.reduce((sum,entry)=>{return sum+entry[\"Capital em Dívida (€)\"];},0);const averageDebtCapital=totalDebtCapital/spreadRefundData.length;// Calculate total spread refund based on average debt capital\nconst monthlySpreadRefund=averageDebtCapital*(data.spread/100)/12;const totalRefund=monthlySpreadRefund*data.anos_devolucao_spread*12;return totalRefund;};const bankNames=Object.keys(banksData);if(bankNames.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-state-icon\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-8 w-8 text-blue-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"empty-state-title\",children:\"Nenhum banco configurado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-state-description\",children:\"Adicione bancos para comparar propostas\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 lg:hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end mb-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleAllBanks(expandedBanks.size===0),className:\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm\",children:expandedBanks.size===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Expandir Todos\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Colapsar Todos\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.keys(banksData).map(bankName=>{const isExpanded=expandedBanks.has(bankName);const data=banksData[bankName];const totalMonthly=calculateTotalMonthlyCosts(data);const totalInitial=data.premios_entrada-data.comissoes_iniciais+calculateSpreadRefund(data);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"expandable-header\",onClick:()=>toggleBankExpansion(bankName),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 text-lg\",children:bankName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Clique para ver detalhes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 font-medium\",children:\"Presta\\xE7\\xE3o Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-gray-900 text-lg\",children:formatCurrency(calculateFixedPayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 font-medium\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-purple-900 text-lg\",children:formatCurrency(calculateVariablePayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 font-medium\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-blue-600 text-lg\",children:formatPercentage(data.spread)})]}),/*#__PURE__*/_jsx(ChevronRight,{className:`h-6 w-6 text-gray-400 transition-transform duration-200 ${isExpanded?'rotate-90':''}`})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:`expandable-content ${isExpanded?'expandable-content-expanded':'expandable-content-collapsed'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 pb-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-base font-semibold text-blue-900 mb-4 flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Taxas e Presta\\xE7\\xF5es\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-grid gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Taxa Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(data.taxa_fixa)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Spread\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatPercentage(data.spread)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Presta\\xE7\\xE3o Fixa\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(calculateFixedPayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item bg-blue-100 border-l-4 border-blue-500 rounded-r-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label text-blue-900 font-semibold\",children:\"Total Fixa + Custos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value text-blue-800 font-bold text-xl\",children:formatCurrency(calculateFixedPayment(data)+calculateTotalMonthlyCosts(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value\",children:formatCurrency(calculateVariablePayment(data))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-item bg-purple-100 border-l-4 border-purple-500 rounded-r-lg p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"data-label text-purple-900 font-semibold\",children:\"Total Vari\\xE1vel + Custos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data-value text-purple-800 font-bold text-xl\",children:formatCurrency(calculateVariablePayment(data)+calculateTotalMonthlyCosts(data))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-base font-semibold text-green-900 mb-4 flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:\"Pr\\xE9mios\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-gray-900 text-lg\",children:[\"+\",formatCurrency(data.premios_entrada)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:\"Comiss\\xF5es\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-gray-900 text-lg\",children:[\"-\",formatCurrency(data.comissoes_iniciais)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:\"Devolu\\xE7\\xE3o Spread\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-gray-900 text-lg\",children:[data.devolucao_spread?'+':'',formatCurrency(calculateSpreadRefund(data))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 rounded-lg p-4 border-2 border-green-200 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base font-semibold text-gray-900\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-bold text-xl ${totalInitial>=0?'text-green-700':'text-red-700'}`,children:[totalInitial>=0?'+':'',formatCurrency(totalInitial)]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-base font-semibold text-purple-900 mb-4 flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:\"Seguro Vida\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.seguro_vida)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:\"Seguro Multiriscos\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.seguro_multiriscos)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 font-medium\",children:\"Manuten\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:formatCurrency(data.manutencao_conta)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 rounded-lg p-4 border-2 border-red-200 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base font-semibold text-red-900\",children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-xl text-red-700\",children:formatCurrency(calculateTotalMonthlyCosts(data))})]})})]})]})]})})]},bankName);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"responsive-table rounded-lg shadow-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-blue-900 text-lg\",children:\"Compara\\xE7\\xE3o de Propostas\"})]})}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"th\",{className:\"text-center p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center shadow-sm\",children:/*#__PURE__*/_jsx(Building2,{className:\"h-5 w-5 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-gray-800 text-base\",children:bankName})]})},bankName))]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-bold text-blue-900 p-4\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"Taxas e Presta\\xE7\\xF5es\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Taxa Fixa (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 p-4\",children:formatPercentage(banksData[bankName].taxa_fixa)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Per\\xEDodo Fixo (anos)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 p-4\",children:banksData[bankName].periodo_fixa},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 p-4\",children:\"Euribor (%)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900 p-4\",children:formatPercentage(banksData[bankName].euribor)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 py-3\",children:\"Presta\\xE7\\xE3o Fixa (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-gray-900 py-3\",children:formatCurrency(calculateFixedPayment(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700 py-3\",children:\"Presta\\xE7\\xE3o Vari\\xE1vel (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-purple-900 py-3\",children:formatCurrency(calculateVariablePayment(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-blue-50 border-l-4 border-blue-400\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-blue-900 py-3 pl-4\",children:\"Total Fixa + Custos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-bold text-blue-700 py-3 text-lg\",children:formatCurrency(calculateFixedPayment(banksData[bankName])+calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-purple-50 border-l-4 border-purple-400\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-purple-900 py-3 pl-4\",children:\"Total Vari\\xE1vel + Custos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-bold text-purple-700 py-3 text-lg\",children:formatCurrency(calculateVariablePayment(banksData[bankName])+calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]}),/*#__PURE__*/_jsx(\"tr\",{className:\"bg-green-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-green-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outflow Inicial\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Pr\\xE9mios (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-gray-900\",children:[\"+\",formatCurrency(banksData[bankName].premios_entrada)]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Comiss\\xF5es (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-gray-900\",children:[\"-\",formatCurrency(banksData[bankName].comissoes_iniciais)]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Devolu\\xE7\\xE3o Spread (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsxs(\"td\",{className:\"text-center font-semibold text-gray-900\",children:[banksData[bankName].devolucao_spread?'+':'',formatCurrency(calculateSpreadRefund(banksData[bankName]))]},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-green-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Total Outflow Inicial (\\u20AC)\"}),bankNames.map(bankName=>{const totalInitialCosts=banksData[bankName].premios_entrada-banksData[bankName].comissoes_iniciais+calculateSpreadRefund(banksData[bankName]);const isPositive=totalInitialCosts>=0;return/*#__PURE__*/_jsxs(\"td\",{className:`text-center font-semibold ${isPositive?'text-green-600':'text-red-600'}`,children:[isPositive?'+':'',formatCurrency(totalInitialCosts)]},bankName);})]}),/*#__PURE__*/_jsx(\"tr\",{className:\"bg-purple-50\",children:/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-purple-900\",colSpan:bankNames.length+1,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Custos Mensais\"})]})})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Seguro Vida (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].seguro_vida)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Seguro Multiriscos (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].seguro_multiriscos)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Manuten\\xE7\\xE3o Conta (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].manutencao_conta)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-gray-700\",children:\"Outros (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center text-gray-900\",children:formatCurrency(banksData[bankName].outros)},bankName))]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-red-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"font-semibold text-red-700\",children:\"Total Custos Mensais (\\u20AC)\"}),bankNames.map(bankName=>/*#__PURE__*/_jsx(\"td\",{className:\"text-center font-semibold text-red-600\",children:formatCurrency(calculateTotalMonthlyCosts(banksData[bankName]))},bankName))]})]})]})})})})]});};","map":{"version":3,"names":["Building2","Calendar","ChevronDown","ChevronRight","ChevronUp","DollarSign","TrendingUp","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProposalComparisonTable","_ref","banksData","selectedBank","setSelectedBank","expandedBanks","setExpandedBanks","Set","toggleAllBanks","expand","Object","keys","toggleBankExpansion","bankName","newExpandedBanks","has","delete","add","formatCurrency","value","Intl","NumberFormat","style","currency","format","formatPercentage","toFixed","calculateFixedPayment","data","gerarMapaDivida","require","debtMap","length","monthlyRate","taxa_fixa","totalPayments","tempo_emprestimo","valor_emprestimo","payment","Math","pow","calculateVariablePayment","firstVariableMonth","periodo_fixa","variableRateEntry","find","entry","Mês","euribor","spread","calculateTotalMonthlyCosts","seguro_vida","seguro_multiriscos","manutencao_conta","outros","calculateSpreadRefund","devolucao_spread","anos_devolucao_spread","spreadRefundMonths","spreadRefundData","slice","totalDebtCapital","reduce","sum","averageDebtCapital","monthlySpreadRefund","totalRefund","bankNames","className","children","onClick","size","map","isExpanded","totalMonthly","totalInitial","premios_entrada","comissoes_iniciais","colSpan","totalInitialCosts","isPositive"],"sources":["/home/julio/github/jmbcs/comparador_credito/src/components/ProposalComparisonTable.tsx"],"sourcesContent":["import { Building2, Calendar, ChevronDown, ChevronRight, ChevronUp, DollarSign, TrendingUp } from 'lucide-react';\nimport { useState } from 'react';\nimport { BankData } from '../types';\n\ninterface ProposalComparisonTableProps {\n    banksData: { [key: string]: BankData };\n}\n\nexport const ProposalComparisonTable = ({ banksData }: ProposalComparisonTableProps) => {\n    const [selectedBank, setSelectedBank] = useState<string | null>(null);\n    const [expandedBanks, setExpandedBanks] = useState<Set<string>>(new Set());\n\n    const toggleAllBanks = (expand: boolean) => {\n        if (expand) {\n            setExpandedBanks(new Set(Object.keys(banksData)));\n        } else {\n            setExpandedBanks(new Set());\n        }\n    };\n\n    const toggleBankExpansion = (bankName: string) => {\n        const newExpandedBanks = new Set(expandedBanks);\n        if (newExpandedBanks.has(bankName)) {\n            newExpandedBanks.delete(bankName);\n        } else {\n            newExpandedBanks.add(bankName);\n        }\n        setExpandedBanks(newExpandedBanks);\n    };\n\n    const formatCurrency = (value: number) => {\n        return new Intl.NumberFormat('pt-PT', {\n            style: 'currency',\n            currency: 'EUR'\n        }).format(value);\n    };\n\n    const formatPercentage = (value: number) => {\n        return `${value.toFixed(2)}%`;\n    };\n\n    // Calculate monthly payment for fixed rate using debt map\n    const calculateFixedPayment = (data: BankData) => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get the first month payment (fixed rate period)\n        if (debtMap.length > 0) {\n            return debtMap[0][\"Prestação (€)\"];\n        }\n\n        // Fallback calculation if debt map is empty\n        const monthlyRate = data.taxa_fixa / 100 / 12;\n        const totalPayments = data.tempo_emprestimo * 12;\n\n        if (monthlyRate === 0) return data.valor_emprestimo / totalPayments;\n\n        const payment = data.valor_emprestimo *\n            (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) /\n            (Math.pow(1 + monthlyRate, totalPayments) - 1);\n\n        return payment;\n    };\n\n    // Calculate monthly payment for variable rate using debt map\n    const calculateVariablePayment = (data: BankData) => {\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get the first month of variable rate period\n        const firstVariableMonth = data.periodo_fixa * 12 + 1;\n        const variableRateEntry = debtMap.find((entry: any) => entry.Mês === firstVariableMonth);\n\n        if (variableRateEntry) {\n            return variableRateEntry[\"Prestação (€)\"];\n        }\n\n        // Fallback calculation if debt map doesn't have variable period\n        const monthlyRate = (data.euribor + data.spread) / 100 / 12;\n        const totalPayments = data.tempo_emprestimo * 12;\n\n        if (monthlyRate === 0) return data.valor_emprestimo / totalPayments;\n\n        const payment = data.valor_emprestimo *\n            (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) /\n            (Math.pow(1 + monthlyRate, totalPayments) - 1);\n\n        return payment;\n    };\n\n    // Calculate total monthly costs\n    const calculateTotalMonthlyCosts = (data: BankData) => {\n        return data.seguro_vida + data.seguro_multiriscos + data.manutencao_conta + data.outros;\n    };\n\n    // Calculate spread refund total (during spread refund period, considering debt capital)\n    const calculateSpreadRefund = (data: BankData) => {\n        if (!data.devolucao_spread || !data.anos_devolucao_spread) return 0;\n\n        // Calculate average debt capital during spread refund period\n        const { gerarMapaDivida } = require('../utils/calculations');\n        const debtMap = gerarMapaDivida(data, 'temp');\n\n        // Get debt capital for each month during spread refund period\n        const spreadRefundMonths = data.anos_devolucao_spread * 12;\n        const spreadRefundData = debtMap.slice(0, spreadRefundMonths);\n\n        if (spreadRefundData.length === 0) return 0;\n\n        // Calculate average debt capital during spread refund period\n        const totalDebtCapital = spreadRefundData.reduce((sum: number, entry: any) => {\n            return sum + entry[\"Capital em Dívida (€)\"];\n        }, 0);\n\n        const averageDebtCapital = totalDebtCapital / spreadRefundData.length;\n\n        // Calculate total spread refund based on average debt capital\n        const monthlySpreadRefund = (averageDebtCapital * (data.spread / 100)) / 12;\n        const totalRefund = monthlySpreadRefund * data.anos_devolucao_spread * 12;\n\n        return totalRefund;\n    };\n\n    const bankNames = Object.keys(banksData);\n\n    if (bankNames.length === 0) {\n        return (\n            <div className=\"empty-state\">\n                <div className=\"empty-state-icon\">\n                    <Building2 className=\"h-8 w-8 text-blue-600\" />\n                </div>\n                <h3 className=\"empty-state-title\">Nenhum banco configurado</h3>\n                <p className=\"empty-state-description\">Adicione bancos para comparar propostas</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Mobile Cards */}\n            <div className=\"space-y-6 lg:hidden\">\n                {/* Expand/Collapse Controls */}\n                <div className=\"flex items-center justify-end mb-4\">\n                    <button\n                        onClick={() => toggleAllBanks(expandedBanks.size === 0)}\n                        className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors shadow-sm\"\n                    >\n                        {expandedBanks.size === 0 ? (\n                            <>\n                                <ChevronDown className=\"h-4 w-4\" />\n                                <span>Expandir Todos</span>\n                            </>\n                        ) : (\n                            <>\n                                <ChevronUp className=\"h-4 w-4\" />\n                                <span>Colapsar Todos</span>\n                            </>\n                        )}\n                    </button>\n                </div>\n                {/* Banks Grid */}\n                <div className=\"space-y-4\">\n                    {Object.keys(banksData).map((bankName) => {\n                        const isExpanded = expandedBanks.has(bankName);\n                        const data = banksData[bankName];\n                        const totalMonthly = calculateTotalMonthlyCosts(data);\n                        const totalInitial = data.premios_entrada - data.comissoes_iniciais + calculateSpreadRefund(data);\n                        return (\n                            <div\n                                key={bankName}\n                                className=\"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow\"\n                            >\n                                {/* Bank Header */}\n                                <div\n                                    className=\"expandable-header\"\n                                    onClick={() => toggleBankExpansion(bankName)}\n                                >\n                                    <div className=\"flex items-center justify-between p-4\">\n                                        <div className=\"flex items-center space-x-4\">\n                                            <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                                <Building2 className=\"h-6 w-6 text-blue-600\" />\n                                            </div>\n                                            <div className=\"space-y-1\">\n                                                <h3 className=\"font-semibold text-gray-900 text-lg\">{bankName}</h3>\n                                                <p className=\"text-sm text-gray-500\">Clique para ver detalhes</p>\n                                            </div>\n                                        </div>\n                                        <div className=\"flex items-center space-x-4\">\n                                            <div className=\"text-right space-y-1\">\n                                                <div className=\"text-xs text-gray-600 font-medium\">Prestação Fixa</div>\n                                                <div className=\"font-bold text-gray-900 text-lg\">{formatCurrency(calculateFixedPayment(data))}</div>\n                                            </div>\n                                            <div className=\"text-right space-y-1\">\n                                                <div className=\"text-xs text-gray-600 font-medium\">Prestação Variável</div>\n                                                <div className=\"font-bold text-purple-900 text-lg\">{formatCurrency(calculateVariablePayment(data))}</div>\n                                            </div>\n                                            <div className=\"text-right space-y-1\">\n                                                <div className=\"text-xs text-gray-600 font-medium\">Spread</div>\n                                                <div className=\"font-bold text-blue-600 text-lg\">{formatPercentage(data.spread)}</div>\n                                            </div>\n                                            <ChevronRight className={`h-6 w-6 text-gray-400 transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`} />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Expandable Content */}\n                                <div className={`expandable-content ${isExpanded ? 'expandable-content-expanded' : 'expandable-content-collapsed'}`}>\n                                    <div className=\"px-6 pb-6 space-y-6\">\n                                        {/* Rates */}\n                                        <div className=\"bg-blue-50 rounded-xl p-6\">\n                                            <h4 className=\"text-base font-semibold text-blue-900 mb-4 flex items-center space-x-3\">\n                                                <TrendingUp className=\"h-5 w-5\" />\n                                                <span>Taxas e Prestações</span>\n                                            </h4>\n                                            <div className=\"data-grid gap-4\">\n                                                <div className=\"data-item\">\n                                                    <div className=\"data-label\">Taxa Fixa</div>\n                                                    <div className=\"data-value\">{formatPercentage(data.taxa_fixa)}</div>\n                                                </div>\n                                                <div className=\"data-item\">\n                                                    <div className=\"data-label\">Spread</div>\n                                                    <div className=\"data-value\">{formatPercentage(data.spread)}</div>\n                                                </div>\n                                                <div className=\"data-item\">\n                                                    <div className=\"data-label\">Prestação Fixa</div>\n                                                    <div className=\"data-value\">{formatCurrency(calculateFixedPayment(data))}</div>\n                                                </div>\n                                                <div className=\"data-item bg-blue-100 border-l-4 border-blue-500 rounded-r-lg p-4\">\n                                                    <div className=\"data-label text-blue-900 font-semibold\">Total Fixa + Custos</div>\n                                                    <div className=\"data-value text-blue-800 font-bold text-xl\">{formatCurrency(calculateFixedPayment(data) + calculateTotalMonthlyCosts(data))}</div>\n                                                </div>\n                                                <div className=\"data-item\">\n                                                    <div className=\"data-label\">Prestação Variável</div>\n                                                    <div className=\"data-value\">{formatCurrency(calculateVariablePayment(data))}</div>\n                                                </div>\n                                                <div className=\"data-item bg-purple-100 border-l-4 border-purple-500 rounded-r-lg p-4\">\n                                                    <div className=\"data-label text-purple-900 font-semibold\">Total Variável + Custos</div>\n                                                    <div className=\"data-value text-purple-800 font-bold text-xl\">{formatCurrency(calculateVariablePayment(data) + calculateTotalMonthlyCosts(data))}</div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        {/* Initial Costs */}\n                                        <div className=\"bg-green-50 rounded-xl p-6\">\n                                            <h4 className=\"text-base font-semibold text-green-900 mb-4 flex items-center space-x-3\">\n                                                <DollarSign className=\"h-5 w-5\" />\n                                                <span>Outflow Inicial</span>\n                                            </h4>\n                                            <div className=\"space-y-4\">\n                                                <div className=\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\">\n                                                    <span className=\"text-sm text-gray-600 font-medium\">Prémios</span>\n                                                    <span className=\"font-bold text-gray-900 text-lg\">+{formatCurrency(data.premios_entrada)}</span>\n                                                </div>\n                                                <div className=\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\">\n                                                    <span className=\"text-sm text-gray-600 font-medium\">Comissões</span>\n                                                    <span className=\"font-bold text-gray-900 text-lg\">-{formatCurrency(data.comissoes_iniciais)}</span>\n                                                </div>\n                                                <div className=\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\">\n                                                    <span className=\"text-sm text-gray-600 font-medium\">Devolução Spread</span>\n                                                    <span className=\"font-bold text-gray-900 text-lg\">\n                                                        {data.devolucao_spread ? '+' : ''}{formatCurrency(calculateSpreadRefund(data))}\n                                                    </span>\n                                                </div>\n                                                <div className=\"bg-green-100 rounded-lg p-4 border-2 border-green-200 shadow-sm\">\n                                                    <div className=\"flex justify-between items-center\">\n                                                        <span className=\"text-base font-semibold text-gray-900\">Total</span>\n                                                        <span className={`font-bold text-xl ${totalInitial >= 0 ? 'text-green-700' : 'text-red-700'}`}>\n                                                            {totalInitial >= 0 ? '+' : ''}{formatCurrency(totalInitial)}\n                                                        </span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        {/* Monthly Costs */}\n                                        <div className=\"bg-purple-50 rounded-xl p-6\">\n                                            <h4 className=\"text-base font-semibold text-purple-900 mb-4 flex items-center space-x-3\">\n                                                <Calendar className=\"h-5 w-5\" />\n                                                <span>Custos Mensais</span>\n                                            </h4>\n                                            <div className=\"space-y-4\">\n                                                <div className=\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\">\n                                                    <span className=\"text-sm text-gray-600 font-medium\">Seguro Vida</span>\n                                                    <span className=\"font-semibold text-gray-900\">{formatCurrency(data.seguro_vida)}</span>\n                                                </div>\n                                                <div className=\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\">\n                                                    <span className=\"text-sm text-gray-600 font-medium\">Seguro Multiriscos</span>\n                                                    <span className=\"font-semibold text-gray-900\">{formatCurrency(data.seguro_multiriscos)}</span>\n                                                </div>\n                                                <div className=\"flex justify-between items-center bg-white rounded-lg p-4 shadow-sm\">\n                                                    <span className=\"text-sm text-gray-600 font-medium\">Manutenção</span>\n                                                    <span className=\"font-semibold text-gray-900\">{formatCurrency(data.manutencao_conta)}</span>\n                                                </div>\n                                                <div className=\"bg-red-100 rounded-lg p-4 border-2 border-red-200 shadow-sm\">\n                                                    <div className=\"flex justify-between items-center\">\n                                                        <span className=\"text-base font-semibold text-red-900\">Total</span>\n                                                        <span className=\"font-bold text-xl text-red-700\">{formatCurrency(calculateTotalMonthlyCosts(data))}</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n\n            {/* Desktop Table */}\n            <div className=\"hidden lg:block\">\n                <div className=\"table-container\">\n                    <div className=\"responsive-table rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\n                        <table className=\"table bg-white\">\n                            <thead>\n                                <tr className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200\">\n                                    <th className=\"text-left p-6\">\n                                        <div className=\"flex items-center space-x-3\">\n                                            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                                <TrendingUp className=\"h-5 w-5 text-blue-600\" />\n                                            </div>\n                                            <span className=\"font-bold text-blue-900 text-lg\">Comparação de Propostas</span>\n                                        </div>\n                                    </th>\n                                    {bankNames.map(bankName => (\n                                        <th key={bankName} className=\"text-center p-6\">\n                                            <div className=\"flex flex-col items-center justify-center space-y-2\">\n                                                <div className=\"w-12 h-12 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-xl flex items-center justify-center shadow-sm\">\n                                                    <Building2 className=\"h-5 w-5 text-blue-600\" />\n                                                </div>\n                                                <span className=\"font-bold text-gray-800 text-base\">{bankName}</span>\n                                            </div>\n                                        </th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {/* Taxas */}\n                                <tr className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200\">\n                                    <td className=\"font-bold text-blue-900 p-4\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-3\">\n                                            <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                                                <TrendingUp className=\"h-4 w-4 text-blue-600\" />\n                                            </div>\n                                            <span className=\"text-lg\">Taxas e Prestações</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Taxa Fixa (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 p-4\">\n                                            {formatPercentage(banksData[bankName].taxa_fixa)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Período Fixo (anos)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 p-4\">\n                                            {banksData[bankName].periodo_fixa}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"hover:bg-gray-50 transition-colors duration-200\">\n                                    <td className=\"font-semibold text-gray-700 p-4\">Euribor (%)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900 p-4\">\n                                            {formatPercentage(banksData[bankName].euribor)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"border-t-2 border-gray-200\">\n                                    <td className=\"font-semibold text-gray-700 py-3\">Prestação Fixa (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900 py-3\">\n                                            {formatCurrency(calculateFixedPayment(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"border-t-2 border-gray-200\">\n                                    <td className=\"font-semibold text-gray-700 py-3\">Prestação Variável (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-purple-900 py-3\">\n                                            {formatCurrency(calculateVariablePayment(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-blue-50 border-l-4 border-blue-400\">\n                                    <td className=\"font-semibold text-blue-900 py-3 pl-4\">Total Fixa + Custos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-bold text-blue-700 py-3 text-lg\">\n                                            {formatCurrency(calculateFixedPayment(banksData[bankName]) + calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-purple-50 border-l-4 border-purple-400\">\n                                    <td className=\"font-semibold text-purple-900 py-3 pl-4\">Total Variável + Custos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-bold text-purple-700 py-3 text-lg\">\n                                            {formatCurrency(calculateVariablePayment(banksData[bankName]) + calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                {/* Outflow Inicial */}\n                                <tr className=\"bg-green-50\">\n                                    <td className=\"font-semibold text-green-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <DollarSign className=\"h-5 w-5\" />\n                                            <span>Outflow Inicial</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Prémios (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            +{formatCurrency(banksData[bankName].premios_entrada)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Comissões (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            -{formatCurrency(banksData[bankName].comissoes_iniciais)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Devolução Spread (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-gray-900\">\n                                            {banksData[bankName].devolucao_spread ? '+' : ''}{formatCurrency(calculateSpreadRefund(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-green-50\">\n                                    <td className=\"font-semibold text-gray-700\">Total Outflow Inicial (€)</td>\n                                    {bankNames.map((bankName) => {\n                                        const totalInitialCosts =\n                                            banksData[bankName].premios_entrada -\n                                            banksData[bankName].comissoes_iniciais +\n                                            calculateSpreadRefund(banksData[bankName]);\n\n                                        const isPositive = totalInitialCosts >= 0;\n\n                                        return (\n                                            <td key={bankName} className={`text-center font-semibold ${isPositive ? 'text-green-600' : 'text-red-600'}`}>\n                                                {isPositive ? '+' : ''}{formatCurrency(totalInitialCosts)}\n                                            </td>\n                                        );\n                                    })}\n                                </tr>\n\n                                {/* Custos Mensais */}\n                                <tr className=\"bg-purple-50\">\n                                    <td className=\"font-semibold text-purple-900\" colSpan={bankNames.length + 1}>\n                                        <div className=\"flex items-center space-x-2\">\n                                            <Calendar className=\"h-5 w-5\" />\n                                            <span>Custos Mensais</span>\n                                        </div>\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Seguro Vida (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].seguro_vida)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Seguro Multiriscos (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].seguro_multiriscos)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Manutenção Conta (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].manutencao_conta)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr>\n                                    <td className=\"font-semibold text-gray-700\">Outros (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center text-gray-900\">\n                                            {formatCurrency(banksData[bankName].outros)}\n                                        </td>\n                                    ))}\n                                </tr>\n\n                                <tr className=\"bg-red-50\">\n                                    <td className=\"font-semibold text-red-700\">Total Custos Mensais (€)</td>\n                                    {bankNames.map((bankName) => (\n                                        <td key={bankName} className=\"text-center font-semibold text-red-600\">\n                                            {formatCurrency(calculateTotalMonthlyCosts(banksData[bankName]))}\n                                        </td>\n                                    ))}\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}